const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SideBarComponent-CEE61FWT.js","assets/utils-BribboEG.js","assets/vue-vendor-T9dwXKqP.js","assets/utils-BloexXmG.css","assets/SideBarComponent-6T1-wk1U.css","assets/MonthSelector-DkOSsCNe.js","assets/MonthSelector-D4HXmIL7.css","assets/PeopleListWindow-Dmri-V_3.js","assets/PeopleListWindow-C403BSN5.css","assets/ShiftCountWindow-Cte3qh9b.js","assets/ShiftCountWindow-DqTG3PgE.css","assets/CalendarComponent-CCfJkqJP.js","assets/daysOfWeek-C19XqJ9X.js","assets/CalendarComponent-CeH9k2Lc.css","assets/ExcelComponent-CakNE7uc.js","assets/ExcelComponent-5e5LMwJW.css","assets/AuthorizationModal-BnKIbEO7.js","assets/AuthorizationModal-qLLJ53bn.css"])))=>i.map(i=>d[i]);
import{c as v,o as h,d as s,e as g,f as m,g as y,h as E,i as f,j as P,n as U,w as k,v as z,b as C,F as A,m as w,k as O}from"./vue-vendor-T9dwXKqP.js";import{_ as L,a as b,c as R}from"./utils-BribboEG.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))_(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&_(r)}).observe(document,{childList:!0,subtree:!0});function p(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function _(e){if(e.ep)return;e.ep=!0;const o=p(e);fetch(e.href,o)}})();const N="modulepreload",I=function(t){return"/"+t},D={},d=function(n,p,_){let e=Promise.resolve();if(p&&p.length>0){let r=function(a){return Promise.all(a.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),M=l?.nonce||l?.getAttribute("nonce");e=r(p.map(a=>{if(a=I(a),a in D)return;D[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":N,c||(i.as="script"),i.crossOrigin="",i.href=a,M&&i.setAttribute("nonce",M),document.head.appendChild(i),c)return new Promise((S,x)=>{i.addEventListener("load",S),i.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return e.then(r=>{for(const l of r||[])l.status==="rejected"&&o(l.reason);return n().catch(o)})},T={},V={class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"};function j(t,n){return h(),v("svg",V,n[0]||(n[0]=[s("path",{d:"M23 4v6h-6"},null,-1),s("path",{d:"M1 20v-6h6"},null,-1),s("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),s("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)]))}const Y=L(T,[["render",j],["__scopeId","data-v-11885e2d"]]),B={name:"VueCalendar",components:{SideBarComponent:g(()=>d(()=>import("./SideBarComponent-CEE61FWT.js"),__vite__mapDeps([0,1,2,3,4]))),MonthSelector:g(()=>d(()=>import("./MonthSelector-DkOSsCNe.js"),__vite__mapDeps([5,1,2,3,6]))),PeopleListWindow:g(()=>d(()=>import("./PeopleListWindow-Dmri-V_3.js"),__vite__mapDeps([7,1,2,3,8]))),ShiftCountWindow:g(()=>d(()=>import("./ShiftCountWindow-Cte3qh9b.js"),__vite__mapDeps([9,1,2,3,10]))),NotificationMessage:g(()=>d(()=>import("./utils-BribboEG.js").then(t=>t.b),__vite__mapDeps([1,2,3]))),RefreshIcon:Y},data(){return{currentPage:"ExcelComponent",isEditingMode:JSON.parse(localStorage.getItem("isEditingMode"))||!1,selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0}],monthDays:[],isRefreshing:!1,AuthorizationModal:null,CalendarComponent:null,ExcelComponent:null,currentPage:localStorage.getItem("currentPage")||"ExcelComponent"}},methods:{handleNavigation(t){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok? Twoje zmiany zostaną utracone.")||(localStorage.setItem("currentPage",t),t==="CalendarComponent"&&!this.CalendarComponent?(this.isLoading=!0,d(()=>import("./CalendarComponent-CCfJkqJP.js"),__vite__mapDeps([11,12,1,2,3,13])).then(n=>{this.CalendarComponent=w(n.default),this.currentPage=t,this.hasUnsavedChanges=!1,this.isLoading=!1})):t==="ExcelComponent"&&!this.ExcelComponent?(this.isLoading=!0,d(()=>import("./ExcelComponent-CakNE7uc.js"),__vite__mapDeps([14,12,1,2,3,15])).then(n=>{this.ExcelComponent=w(n.default),this.currentPage=t,this.hasUnsavedChanges=!1,this.isLoading=!1})):(this.currentPage=t,this.hasUnsavedChanges=!1))},handleMonthChange(t){this.selectedMonth+=t,this.selectedMonth>11?(this.selectedMonth=0,this.selectedYear+=1):this.selectedMonth<0&&(this.selectedMonth=11,this.selectedYear-=1)},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="ExcelComponent"&&this.$refs.excelComponent?this.$refs.excelComponent.generateMonthDays():this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent&&this.$refs.calendarComponent.generateMonthDays()},async checkShiftDataSync(){const t=setTimeout(()=>{this.isRefreshing&&(this.isRefreshing=!1,b("Odświeżanie przerwane - timeout","red"))},6e3);this.isRefreshing=!0;try{this.syncedChanges=await R(()=>this.generateCurrentView()),this.hasUnsavedChanges=!1,b("Odświeżanie...","blue")}catch{b("Błąd podczas odświeżania","red")}finally{clearTimeout(t),setTimeout(()=>{this.isRefreshing=!1},800)}},updateEditingMode(t){this.isEditingMode=t,localStorage.setItem("isEditingMode",JSON.stringify(t))},updateUnsavedChanges(t){this.hasUnsavedChanges=t},showPasswordPrompt(){this.AuthorizationModal?this.showPasswordModal=!0:d(()=>import("./AuthorizationModal-BnKIbEO7.js"),__vite__mapDeps([16,1,2,3,17])).then(t=>{this.AuthorizationModal=w(t.default),this.showPasswordModal=!0})},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.$refs.activeComponent?.handleChangesSaved()},emitEditingMode(t){this.updateEditingMode(t)},updateMonthDays(t){this.monthDays=t}},async mounted(){this.ExcelComponent||(this.ExcelComponent=w((await d(async()=>{const{default:n}=await import("./ExcelComponent-CakNE7uc.js");return{default:n}},__vite__mapDeps([14,12,1,2,3,15]))).default));const t=localStorage.getItem("currentPage");t&&(this.currentPage=t,t==="CalendarComponent"&&!this.CalendarComponent&&d(()=>import("./CalendarComponent-CCfJkqJP.js"),__vite__mapDeps([11,12,1,2,3,13])).then(n=>{this.CalendarComponent=w(n.default)})),this.discardChanges(),this.hasUnsavedChanges=!1},computed:{peopleListEditingMode(){switch(this.currentPage){case"CalendarComponent":return this.isEditingMode;case"ExcelComponent":return!1;default:return!1}}}},W={class:"app-container"},F=["disabled"],Z={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},H=["checked"],q=["aria-checked"],J={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},K={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},G={class:"main-content"},Q={style:{display:"flex","flex-direction":"column","align-items":"center"}},X={class:"editing-mode-label"},$={class:"editing-mode-label"};function ee(t,n,p,_,e,o){const r=m("SideBarComponent"),l=m("MonthSelector"),M=m("refresh-icon"),a=m("PeopleListWindow"),c=m("ShiftCountWindow"),u=m("NotificationMessage");return h(),v(A,null,[s("div",W,[e.AuthorizationModal&&e.showPasswordModal?(h(),y(P(e.AuthorizationModal),{key:0,show:e.showPasswordModal,onClose:n[0]||(n[0]=i=>e.showPasswordModal=!1),onAuthorized:o.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"},null,40,["show","onAuthorized"])):E("",!0),s("button",{disabled:!e.hasUnsavedChanges,onClick:n[1]||(n[1]=(...i)=>o.showPasswordPrompt&&o.showPasswordPrompt(...i)),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,F),f(r,{currentComponent:e.currentPage,onNavigate:o.handleNavigation},null,8,["currentComponent","onNavigate"]),f(l,{currentMonth:e.selectedMonth,currentYear:e.selectedYear,locale:e.locale,hasUnsavedChanges:e.hasUnsavedChanges,onChangeMonth:o.handleMonthChange,onDiscardChanges:o.discardChanges},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges","onChangeMonth","onDiscardChanges"]),s("section",null,[s("button",{class:"top-right-buttons buttonRefresh",onClick:n[2]||(n[2]=i=>o.checkShiftDataSync()),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[f(M,{class:U({refreshing:e.isRefreshing})},null,8,["class"])]),s("label",Z,[s("input",{type:"checkbox",checked:e.isEditingMode,onChange:n[3]||(n[3]=i=>o.emitEditingMode(i.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,H),s("span",{class:"slider",role:"switch","aria-checked":e.isEditingMode},[e.isEditingMode?(h(),v("svg",K,n[5]||(n[5]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(h(),v("svg",J,n[4]||(n[4]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,q)])]),s("main",G,[e.currentPage==="CalendarComponent"?(h(),y(P(e.CalendarComponent),{key:0,ref:"calendarComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):E("",!0),e.currentPage==="ExcelComponent"?(h(),y(P(e.ExcelComponent),{key:1,ref:"excelComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):E("",!0),f(a,{people:e.people,isEditingMode:o.peopleListEditingMode},null,8,["people","isEditingMode"]),k(s("div",Q,[k(s("h1",X,n[6]||(n[6]=[C(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),C(" Przeciągaj członków zespołu na miejsca w grafiku."),s("br",null,null,-1),C("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]),512),[[z,e.currentPage==="CalendarComponent"]]),k(s("h1",$,n[7]||(n[7]=[C(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),C(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]),512),[[z,e.currentPage==="ExcelComponent"]])],512),[[z,e.isEditingMode]]),e.monthDays.length>0&&e.localData[1]!==null?(h(),y(c,{key:2,ref:"shiftCountWindow",people:e.people,monthDays:e.monthDays},null,8,["people","monthDays"])):E("",!0),f(u)])]),n[8]||(n[8]=s("footer",{class:"footer"},[s("p",null,"© 2025 puksh - All rights reserved")],-1))],64)}const te=L(B,[["render",ee],["__scopeId","data-v-008de3d3"]]);window.addEventListener("error",t=>{t.error&&(t.error.message.includes("Failed to fetch dynamically imported module")||t.error.message.includes("Importing a module script failed"))&&window.location.reload()});O(te).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{}).catch(t=>{})});export{d as _};
