const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarComponent-CWYOwWEO.js","assets/daysOfWeek-C19XqJ9X.js","assets/utils-BY5kvcl7.js","assets/vue-vendor-F-eyJ2U6.js","assets/utils-Bijb4EDP.css","assets/CalendarComponent-CwE75p2o.css","assets/ExcelComponent-VR-AMBum.js","assets/ExcelComponent-B2erMAbI.css","assets/SideBarComponent-DA2C8F2e.js","assets/SideBarComponent-Db1l6UEw.css","assets/MonthSelector-D17r4p8r.js","assets/MonthSelector-BDS4-O7F.css","assets/AuthorizationModal-C04k9enb.js","assets/AuthorizationModal-Dq8ukCCm.css","assets/PeopleListWindow-PYa5qn3x.js","assets/PeopleListWindow-SffRQBEW.css","assets/ShiftCountWindow-BomqGbQs.js","assets/ShiftCountWindow-c89VHJDj.css"])))=>i.map(i=>d[i]);
import{e as c,f as h,c as p,d as s,g as M,h as v,i as f,b as C,F as z,o as d,j as b}from"./vue-vendor-F-eyJ2U6.js";import{_ as S,c as D,a as L}from"./utils-BY5kvcl7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))y(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&y(i)}).observe(document,{childList:!0,subtree:!0});function m(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function y(e){if(e.ep)return;e.ep=!0;const n=m(e);fetch(e.href,n)}})();const x="modulepreload",A=function(o){return"/"+o},P={},u=function(t,m,y){let e=Promise.resolve();if(m&&m.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");e=Promise.allSettled(m.map(a=>{if(a=A(a),a in P)return;P[a]=!0;const g=a.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${_}`))return;const l=document.createElement("link");if(l.rel=g?"stylesheet":x,g||(l.as="script"),l.crossOrigin="",l.href=a,r&&l.setAttribute("nonce",r),document.head.appendChild(l),g)return new Promise((E,k)=>{l.addEventListener("load",E),l.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${a}`)))})}))}function n(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return e.then(i=>{for(const r of i||[])r.status==="rejected"&&n(r.reason);return t().catch(n)})},U={name:"VueCalendar",components:{CalendarComponent:c(()=>u(()=>import("./CalendarComponent-CWYOwWEO.js"),__vite__mapDeps([0,1,2,3,4,5]))),ExcelComponent:c(()=>u(()=>import("./ExcelComponent-VR-AMBum.js"),__vite__mapDeps([6,1,2,3,4,7]))),SideBarComponent:c(()=>u(()=>import("./SideBarComponent-DA2C8F2e.js"),__vite__mapDeps([8,2,3,4,9]))),NotificationMessage:c(()=>u(()=>import("./utils-BY5kvcl7.js").then(o=>o.N),__vite__mapDeps([2,3,4]))),MonthSelector:c(()=>u(()=>import("./MonthSelector-D17r4p8r.js"),__vite__mapDeps([10,2,3,4,11]))),AuthorizationModal:c(()=>u(()=>import("./AuthorizationModal-C04k9enb.js"),__vite__mapDeps([12,2,3,4,13]))),PeopleListWindow:c(()=>u(()=>import("./PeopleListWindow-PYa5qn3x.js"),__vite__mapDeps([14,2,3,4,15]))),ShiftCountWindow:c(()=>u(()=>import("./ShiftCountWindow-BomqGbQs.js"),__vite__mapDeps([16,2,3,4,17])))},data(){return{currentPage:"CalendarComponent",isEditingMode:JSON.parse(localStorage.getItem("isEditingMode"))||!1,selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0},{id:8,name:"Alina",ratownik:!1},{id:9,name:"Ewelina",ratownik:!1},{id:10,name:"Teresa",ratownik:!1}],monthDays:[]}},methods:{handleNavigation(o){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok? Twoje zmiany zostaną utracone.")||(this.currentPage=o,this.hasUnsavedChanges=!1)},handleMonthChange(o){this.selectedMonth+=o,this.selectedMonth>11?(this.selectedMonth=0,this.selectedYear+=1):this.selectedMonth<0&&(this.selectedMonth=11,this.selectedYear-=1)},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent?this.$refs.calendarComponent.generateMonthDays():this.currentPage==="ExcelComponent"&&this.$refs.excelComponent&&this.$refs.excelComponent.generateMonthDays()},async checkShiftDataSync(){this.syncedChanges=await D(()=>this.generateCurrentView()),L("Odświeżanie...","blue")},updateEditingMode(o){this.isEditingMode=o,localStorage.setItem("isEditingMode",JSON.stringify(o))},updateUnsavedChanges(o){this.hasUnsavedChanges=o},showPasswordPrompt(){this.showPasswordModal=!0},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.$refs.activeComponent?.handleChangesSaved()},emitEditingMode(o){this.updateEditingMode(o)},updateMonthDays(o){this.monthDays=o}},async mounted(){this.discardChanges()},computed:{peopleListEditingMode(){switch(this.currentPage){case"CalendarComponent":return this.isEditingMode;case"ExcelComponent":return!1;default:return!1}}}},N={class:"app-container"},O=["disabled"],j={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"refresh-icon",style:{width:"30px",height:"30px"}},V={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},T=["checked"],I=["aria-checked"],W={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},Y={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},B={class:"main-content"},R={key:2,style:{display:"flex","flex-direction":"column","align-items":"center"}},F={key:0,class:"editing-mode-label"},Z={key:1,class:"editing-mode-label"};function H(o,t,m,y,e,n){const i=h("AuthorizationModal"),r=h("SideBarComponent"),a=h("MonthSelector"),g=h("CalendarComponent"),_=h("ExcelComponent"),l=h("PeopleListWindow"),E=h("ShiftCountWindow"),k=h("NotificationMessage");return d(),p(z,null,[s("div",N,[M(i,{show:e.showPasswordModal,onClose:t[0]||(t[0]=w=>e.showPasswordModal=!1),onAuthorized:n.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"},null,8,["show","onAuthorized"]),s("button",{disabled:!e.hasUnsavedChanges,onClick:t[1]||(t[1]=(...w)=>n.showPasswordPrompt&&n.showPasswordPrompt(...w)),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,O),M(r,{currentComponent:e.currentPage,onNavigate:n.handleNavigation},null,8,["currentComponent","onNavigate"]),M(a,{currentMonth:e.selectedMonth,currentYear:e.selectedYear,locale:e.locale,hasUnsavedChanges:e.hasUnsavedChanges,onChangeMonth:n.handleMonthChange,onDiscardChanges:n.discardChanges},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges","onChangeMonth","onDiscardChanges"]),s("section",null,[s("button",{class:"top-right-buttons buttonRefresh",onClick:t[2]||(t[2]=w=>n.checkShiftDataSync()),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[(d(),p("svg",j,t[4]||(t[4]=[s("path",{d:"M23 4v6h-6"},null,-1),s("path",{d:"M1 20v-6h6"},null,-1),s("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),s("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)])))]),s("label",V,[s("input",{type:"checkbox",checked:e.isEditingMode,onChange:t[3]||(t[3]=w=>n.emitEditingMode(w.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,T),s("span",{class:"slider",role:"switch","aria-checked":e.isEditingMode},[e.isEditingMode?(d(),p("svg",Y,t[6]||(t[6]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(d(),p("svg",W,t[5]||(t[5]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,I)])]),s("main",B,[e.currentPage==="CalendarComponent"?(d(),v(g,{key:0,ref:"calendarComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:n.updateEditingMode,onHasChanges:n.updateUnsavedChanges,onMonthDaysUpdated:n.updateMonthDays},null,8,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):f("",!0),e.currentPage==="ExcelComponent"?(d(),v(_,{key:1,ref:"excelComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:n.updateEditingMode,onHasChanges:n.updateUnsavedChanges,onMonthDaysUpdated:n.updateMonthDays},null,8,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):f("",!0),M(l,{people:e.people,isEditingMode:n.peopleListEditingMode},null,8,["people","isEditingMode"]),e.isEditingMode?(d(),p("div",R,[e.currentPage==="CalendarComponent"?(d(),p("h1",F,t[7]||(t[7]=[C(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),C(" Przeciągaj członków zespołu na miejsca w grafiku."),s("br",null,null,-1),C("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]))):f("",!0),e.currentPage==="ExcelComponent"?(d(),p("h1",Z,t[8]||(t[8]=[C(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),C(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]))):f("",!0)])):f("",!0),e.monthDays.length>0?(d(),v(E,{key:3,people:e.people,monthDays:e.monthDays},null,8,["people","monthDays"])):f("",!0),M(k)])]),t[9]||(t[9]=s("footer",{class:"footer"},[s("p",null,"© 2025 puksh - All rights reserved")],-1))],64)}const q=S(U,[["render",H],["__scopeId","data-v-ce954556"]]);window.addEventListener("error",o=>{o.error&&(o.error.message.includes("Failed to fetch dynamically imported module")||o.error.message.includes("Importing a module script failed"))&&window.location.reload()});b(q).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(o=>{}).catch(o=>{})});export{u as _};
