import{_ as f,o as r,c as d,a,F as u,f as g,h,t as o,n as c}from"./index-QYdSRHFs.js";const D={name:"ShiftCountWindow",props:{people:{type:Array,required:!0},monthDays:{type:Array,required:!0}},methods:{countShiftsForPerson(i){if(!i)return 0;let t=0;for(let n=0;n<this.monthDays.length;n++)this.monthDays[n].dayShift1===i&&(t+=1),this.monthDays[n].dayShift2===i&&(t+=1),this.monthDays[n].nightShift1===i&&(t+=1),this.monthDays[n].nightShift2===i&&(t+=1);return t},calculateAllShiftCounts(){this.people.forEach(i=>{i.shiftCount=this.countShiftsForPerson(i.id)})}},mounted(){this.calculateAllShiftCounts()},watch:{monthDays:{handler(){this.calculateAllShiftCounts()},deep:!0}}},E={class:"shift-counts-window"},_={style:{display:"flex","flex-direction":"row"}},w={style:{display:"flex","flex-direction":"column"}},S={class:"shift-counts"},k={style:{display:"flex","flex-direction":"column"}},v={class:"shift-counts"};function T(i,t,n,m,y,s){return r(),d("section",E,[t[2]||(t[2]=a("h3",{style:{margin:"8px"}},"Ilość zmian",-1)),a("div",_,[a("div",w,[t[0]||(t[0]=a("h4",{style:{margin:"8px"}},"Ratowniczki/cy",-1)),a("ul",S,[(r(!0),d(u,null,g(n.people.filter(e=>e.ratownik),e=>(r(),d("li",{key:e.id},[h(o(e.name)+": ",1),a("strong",null,o(e.shiftCount||0),1)]))),128))])]),a("div",k,[t[1]||(t[1]=a("h4",{style:{margin:"8px"}},"Pielęgniarki/rze",-1)),a("ul",v,[(r(!0),d(u,null,g(n.people.filter(e=>!e.ratownik),e=>(r(),d("li",{key:e.id},[h(o(e.name)+": ",1),a("strong",null,o(e.shiftCount||0),1)]))),128))])])])])}const q=f(D,[["render",T],["__scopeId","data-v-22e300a7"]]),x={name:"PeopleListWindow",props:{people:{type:Array,required:!0},isEditingMode:{type:Boolean,required:!0}},data(){return{draggedPerson:null}},methods:{startDrag(i){localStorage.setItem("draggedPerson",JSON.stringify(i))},startTouchDrag(i,t){this.draggedPerson=i,localStorage.setItem("draggedPerson",JSON.stringify(i)),t.target.classList.add("dragging"),document.body.style.overflow="hidden"},handleTouchEnd(i){i.target.classList.remove("dragging"),document.body.style.overflow=""},handleDragEnd(){localStorage.removeItem("draggedPerson")}}},P={class:"people-list"},C={class:"person-lists"},b=["draggable","onDragstart","onTouchstart"],M={class:"person-lists"},z=["draggable","onDragstart","onTouchstart"];function A(i,t,n,m,y,s){return r(),d("section",P,[t[6]||(t[6]=a("h3",{style:{"font-weight":"bold"}},"Zespół",-1)),a("div",null,[t[4]||(t[4]=a("h4",null,"Ratowniczki/cy",-1)),a("div",C,[(r(!0),d(u,null,g(n.people.filter(e=>e.ratownik),e=>(r(),d("div",{key:e.id,class:c(["person-item ratownik",{draggable:n.isEditingMode}]),draggable:n.isEditingMode,onDragstart:l=>n.isEditingMode?s.startDrag(e):null,onDragend:t[0]||(t[0]=(...l)=>s.handleDragEnd&&s.handleDragEnd(...l)),onTouchstart:l=>n.isEditingMode?s.startTouchDrag(e,l):null,onTouchend:t[1]||(t[1]=(...l)=>s.handleTouchEnd&&s.handleTouchEnd(...l))},o(e.name),43,b))),128))]),t[5]||(t[5]=a("h4",null,"Pielęgniarki/rze",-1)),a("div",M,[(r(!0),d(u,null,g(n.people.filter(e=>!e.ratownik),e=>(r(),d("div",{key:e.id,class:c(["person-item pielegniarka",{draggable:n.isEditingMode}]),draggable:n.isEditingMode,onDragstart:l=>n.isEditingMode?s.startDrag(e):null,onDragend:t[2]||(t[2]=(...l)=>s.handleDragEnd&&s.handleDragEnd(...l)),onTouchstart:l=>n.isEditingMode?s.startTouchDrag(e,l):null,onTouchend:t[3]||(t[3]=(...l)=>s.handleTouchEnd&&s.handleTouchEnd(...l))},o(e.name),43,z))),128))])])])}const B=f(x,[["render",A],["__scopeId","data-v-e821606a"]]);export{B as P,q as S};
