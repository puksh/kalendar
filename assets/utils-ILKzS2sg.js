import{r as y,c as d,o as l,F as h,a as g,n as m,b as p,d as r,t as _}from"./vue-vendor-CVTALk6y.js";const i=y([]);let S=0;const c=(t,e="blue",o=3e3)=>{const s=S++;i.push({id:s,message:t,type:e}),setTimeout(()=>{f(s)},o)},f=t=>{const e=i.findIndex(o=>o.id===t);e!==-1&&i.splice(e,1)},v={name:"NotificationMessage",setup(){return{notifications:i,removeNotification:f}}},k=(t,e)=>{const o=t.__vccOpts||t;for(const[s,a]of e)o[s]=a;return o},N={class:"notification-container"},b=["onClick"];function x(t,e,o,s,a,u){return l(),d("div",N,[(l(!0),d(h,null,g(s.notifications,n=>(l(),d("div",{key:n.id,class:m(["notification",n.type])},[p(_(n.message)+" ",1),r("button",{onClick:j=>s.removeNotification(n.id),"aria-label":"Close notification"},e[0]||(e[0]=[r("svg",{viewBox:"0 0 24 24",width:"14",height:"14",stroke:"currentColor","stroke-width":"2"},[r("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),8,b)],2))),128))])}const C=k(v,[["render",x],["__scopeId","data-v-ef1d7c4a"]]),I=Object.freeze(Object.defineProperty({__proto__:null,addNotification:c,default:C,removeNotification:f},Symbol.toStringTag,{value:"Module"}));async function w(t){try{const e=await fetch("https://mc.kot.li/?key=shiftData.json",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw e.status===404&&c("Brak danych na serwerze","red"),new Error(`Failed to fetch data from server: ${e.status}`);return await e.json()}catch{return c("Nie udało się połączyć z serwerem","red"),null}}async function O(t){try{const e=await w(()=>{});return e?(Object.keys(localStorage).filter(a=>a!=="isEditingMode"&&a!=="currentPage").forEach(a=>localStorage.removeItem(a)),Object.entries(e).forEach(([a,u])=>localStorage.setItem(a,JSON.stringify(u))),typeof t=="function"&&t(),e):null}catch{return c("Błąd podczas synchronizacji danych","red"),null}}function B(){const t=sessionStorage.getItem("syncedChanges");if(!t)return{};const e=JSON.parse(t);return setTimeout(()=>sessionStorage.removeItem("syncedChanges"),5e3),e}export{C as N,k as _,c as a,I as b,O as c,B as r};
