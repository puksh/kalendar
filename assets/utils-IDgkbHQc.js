import{r as y,o as f,c as d,F as S,a as p,n as _,b as v,t as N,d as C}from"./vue-vendor-DJOL9Rss.js";const k=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},c=y([]);let O=0;const l=(e,t="blue",s=3e3)=>{const o=O++;c.push({id:o,message:e,type:t}),setTimeout(()=>{m(o)},s)},m=e=>{const t=c.findIndex(s=>s.id===e);t!==-1&&c.splice(t,1)},I={name:"NotificationMessage",setup(){return{notifications:c,removeNotification:m}}},b={class:"notification-container"},j=["onClick"];function T(e,t,s,o,n,i){return f(),d("div",b,[(f(!0),d(S,null,p(o.notifications,a=>(f(),d("div",{key:a.id,class:_(["notification",a.type])},[v(N(a.message)+" ",1),C("button",{onClick:r=>o.removeNotification(a.id)},"X",8,j)],2))),128))])}const x=k(I,[["render",T],["__scopeId","data-v-f6c3f94f"]]),J=Object.freeze(Object.defineProperty({__proto__:null,addNotification:l,default:x,removeNotification:m},Symbol.toStringTag,{value:"Module"}));async function E(){try{const e=await fetch("https://mc.kot.li/?key=shiftData.json",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw e.status===404&&l("Data not found on server","red"),new Error(`Failed to fetch data from server: ${e.status}`);return await e.json()}catch{return l("Failed to fetch data from server","red"),null}}async function $(e){w();const t=await E();if(!t)return;const s={};for(const[o,n]of Object.entries(t)){const i=localStorage.getItem(o),a=i?JSON.parse(i):null,r={};if(!a)s[o]={...n},localStorage.setItem(o,JSON.stringify(n));else{for(const[u,g]of Object.entries(n)){const h=a[u]||null;h!==g&&(r[u]={from:h||"Empty",to:g||"Empty"})}Object.keys(r).length>0&&(s[o]=r),localStorage.setItem(o,JSON.stringify(n))}}return typeof e=="function"&&e(),sessionStorage.setItem("syncedChanges",JSON.stringify(s)),setTimeout(()=>{sessionStorage.removeItem("syncedChanges")},5e3),s}function w(){const e=sessionStorage.getItem("syncedChanges");if(e){const t=JSON.parse(e);return setTimeout(()=>{sessionStorage.removeItem("syncedChanges")},5e3),t}return{}}export{J as N,k as _,l as a,$ as c,w as r};
