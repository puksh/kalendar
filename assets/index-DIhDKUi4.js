const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SideBarComponent-BqZKcIkw.js","assets/utils-7_cPcmap.js","assets/vue-vendor-DAxx2COs.js","assets/utils-BloexXmG.css","assets/SideBarComponent-6T1-wk1U.css","assets/MonthSelector-0L7fcRiM.js","assets/MonthSelector-D4HXmIL7.css","assets/PeopleListWindow-Cw5vfM1i.js","assets/PeopleListWindow-C403BSN5.css","assets/ShiftCountWindow-CIZWn55e.js","assets/ShiftCountWindow-DqTG3PgE.css","assets/CalendarComponent-D0K2SmKb.js","assets/daysOfWeek-C19XqJ9X.js","assets/CalendarComponent-B8rdQhyN.css","assets/ExcelComponent-B0k7-Rq0.js","assets/ExcelComponent-5e5LMwJW.css","assets/AuthorizationModal-Cow6sSEp.js","assets/AuthorizationModal-C7fLGdpQ.css"])))=>i.map(i=>d[i]);
import{o as c,c as E,d as s,e as g,m as f,f as m,g as M,h as P,i as y,j as C,n as S,w as k,v as z,b as w,F as x,k as U}from"./vue-vendor-DAxx2COs.js";import{_ as D,c as A,a as O}from"./utils-7_cPcmap.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))_(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&_(i)}).observe(document,{childList:!0,subtree:!0});function u(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function _(e){if(e.ep)return;e.ep=!0;const o=u(e);fetch(e.href,o)}})();const N="modulepreload",I=function(n){return"/"+n},b={},d=function(t,u,_){let e=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");e=Promise.allSettled(u.map(r=>{if(r=I(r),r in b)return;b[r]=!0;const p=r.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${v}`))return;const l=document.createElement("link");if(l.rel=p?"stylesheet":N,p||(l.as="script"),l.crossOrigin="",l.href=r,a&&l.setAttribute("nonce",a),document.head.appendChild(l),p)return new Promise((h,L)=>{l.addEventListener("load",h),l.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${r}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return e.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},R={},V={class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"};function T(n,t){return c(),E("svg",V,t[0]||(t[0]=[s("path",{d:"M23 4v6h-6"},null,-1),s("path",{d:"M1 20v-6h6"},null,-1),s("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),s("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)]))}const j=D(R,[["render",T],["__scopeId","data-v-11885e2d"]]),Y={name:"VueCalendar",components:{SideBarComponent:g(()=>d(()=>import("./SideBarComponent-BqZKcIkw.js"),__vite__mapDeps([0,1,2,3,4]))),MonthSelector:g(()=>d(()=>import("./MonthSelector-0L7fcRiM.js"),__vite__mapDeps([5,1,2,3,6]))),PeopleListWindow:g(()=>d(()=>import("./PeopleListWindow-Cw5vfM1i.js"),__vite__mapDeps([7,1,2,3,8]))),ShiftCountWindow:g(()=>d(()=>import("./ShiftCountWindow-CIZWn55e.js"),__vite__mapDeps([9,1,2,3,10]))),NotificationMessage:g(()=>d(()=>import("./utils-7_cPcmap.js").then(n=>n.b),__vite__mapDeps([1,2,3]))),RefreshIcon:j},data(){return{currentPage:"ExcelComponent",isEditingMode:JSON.parse(localStorage.getItem("isEditingMode"))||!1,selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0}],monthDays:[],isRefreshing:!1,AuthorizationModal:null,CalendarComponent:null,ExcelComponent:null,currentPage:localStorage.getItem("currentPage")||"ExcelComponent"}},methods:{handleNavigation(n){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok? Twoje zmiany zostaną utracone.")||(localStorage.setItem("currentPage",n),n==="CalendarComponent"&&!this.CalendarComponent?(this.isLoading=!0,d(()=>import("./CalendarComponent-D0K2SmKb.js"),__vite__mapDeps([11,12,1,2,3,13])).then(t=>{this.CalendarComponent=f(t.default),this.currentPage=n,this.hasUnsavedChanges=!1,this.isLoading=!1})):n==="ExcelComponent"&&!this.ExcelComponent?(this.isLoading=!0,d(()=>import("./ExcelComponent-B0k7-Rq0.js"),__vite__mapDeps([14,12,1,2,3,15])).then(t=>{this.ExcelComponent=f(t.default),this.currentPage=n,this.hasUnsavedChanges=!1,this.isLoading=!1})):(this.currentPage=n,this.hasUnsavedChanges=!1))},handleMonthChange(n){this.selectedMonth+=n,this.selectedMonth>11?(this.selectedMonth=0,this.selectedYear+=1):this.selectedMonth<0&&(this.selectedMonth=11,this.selectedYear-=1)},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="ExcelComponent"&&this.$refs.excelComponent?this.$refs.excelComponent.generateMonthDays():this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent&&this.$refs.calendarComponent.generateMonthDays()},async checkShiftDataSync(){this.isRefreshing=!0,this.syncedChanges=await A(()=>this.generateCurrentView()),this.hasUnsavedChanges=!1,O("Odświeżanie...","blue"),setTimeout(()=>{this.isRefreshing=!1},800)},updateEditingMode(n){this.isEditingMode=n,localStorage.setItem("isEditingMode",JSON.stringify(n))},updateUnsavedChanges(n){this.hasUnsavedChanges=n},showPasswordPrompt(){this.AuthorizationModal?this.showPasswordModal=!0:d(()=>import("./AuthorizationModal-Cow6sSEp.js"),__vite__mapDeps([16,1,2,3,17])).then(n=>{this.AuthorizationModal=f(n.default),this.showPasswordModal=!0})},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.$refs.activeComponent?.handleChangesSaved()},emitEditingMode(n){this.updateEditingMode(n)},updateMonthDays(n){this.monthDays=n}},async mounted(){this.ExcelComponent||(this.ExcelComponent=f((await d(async()=>{const{default:t}=await import("./ExcelComponent-B0k7-Rq0.js");return{default:t}},__vite__mapDeps([14,12,1,2,3,15]))).default));const n=localStorage.getItem("currentPage");n&&(this.currentPage=n,n==="CalendarComponent"&&!this.CalendarComponent&&d(()=>import("./CalendarComponent-D0K2SmKb.js"),__vite__mapDeps([11,12,1,2,3,13])).then(t=>{this.CalendarComponent=f(t.default)})),this.discardChanges(),this.hasUnsavedChanges=!1},computed:{peopleListEditingMode(){switch(this.currentPage){case"CalendarComponent":return this.isEditingMode;case"ExcelComponent":return!1;default:return!1}}}},W={class:"app-container"},B=["disabled"],F={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},Z=["checked"],H=["aria-checked"],q={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},J={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},K={class:"main-content"},G={style:{display:"flex","flex-direction":"column","align-items":"center"}},Q={class:"editing-mode-label"},X={class:"editing-mode-label"};function $(n,t,u,_,e,o){const i=m("SideBarComponent"),a=m("MonthSelector"),r=m("refresh-icon"),p=m("PeopleListWindow"),v=m("ShiftCountWindow"),l=m("NotificationMessage");return c(),E(x,null,[s("div",W,[e.AuthorizationModal&&e.showPasswordModal?(c(),M(P(e.AuthorizationModal),{key:0,show:e.showPasswordModal,onClose:t[0]||(t[0]=h=>e.showPasswordModal=!1),onAuthorized:o.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"},null,40,["show","onAuthorized"])):y("",!0),s("button",{disabled:!e.hasUnsavedChanges,onClick:t[1]||(t[1]=(...h)=>o.showPasswordPrompt&&o.showPasswordPrompt(...h)),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,B),C(i,{currentComponent:e.currentPage,onNavigate:o.handleNavigation},null,8,["currentComponent","onNavigate"]),C(a,{currentMonth:e.selectedMonth,currentYear:e.selectedYear,locale:e.locale,hasUnsavedChanges:e.hasUnsavedChanges,onChangeMonth:o.handleMonthChange,onDiscardChanges:o.discardChanges},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges","onChangeMonth","onDiscardChanges"]),s("section",null,[s("button",{class:"top-right-buttons buttonRefresh",onClick:t[2]||(t[2]=h=>o.checkShiftDataSync()),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[C(r,{class:S({refreshing:e.isRefreshing})},null,8,["class"])]),s("label",F,[s("input",{type:"checkbox",checked:e.isEditingMode,onChange:t[3]||(t[3]=h=>o.emitEditingMode(h.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,Z),s("span",{class:"slider",role:"switch","aria-checked":e.isEditingMode},[e.isEditingMode?(c(),E("svg",J,t[5]||(t[5]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(c(),E("svg",q,t[4]||(t[4]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,H)])]),s("main",K,[e.currentPage==="CalendarComponent"?(c(),M(P(e.CalendarComponent),{key:0,ref:"calendarComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):y("",!0),e.currentPage==="ExcelComponent"?(c(),M(P(e.ExcelComponent),{key:1,ref:"excelComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):y("",!0),C(p,{people:e.people,isEditingMode:o.peopleListEditingMode},null,8,["people","isEditingMode"]),k(s("div",G,[k(s("h1",Q,t[6]||(t[6]=[w(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),w(" Przeciągaj członków zespołu na miejsca w grafiku."),s("br",null,null,-1),w("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]),512),[[z,e.currentPage==="CalendarComponent"]]),k(s("h1",X,t[7]||(t[7]=[w(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),w(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]),512),[[z,e.currentPage==="ExcelComponent"]])],512),[[z,e.isEditingMode]]),e.monthDays.length>0&&e.localData[1]!==null?(c(),M(v,{key:2,ref:"shiftCountWindow",people:e.people,monthDays:e.monthDays},null,8,["people","monthDays"])):y("",!0),C(l)])]),t[8]||(t[8]=s("footer",{class:"footer"},[s("p",null,"© 2025 puksh - All rights reserved")],-1))],64)}const ee=D(Y,[["render",$],["__scopeId","data-v-c668f0cc"]]);window.addEventListener("error",n=>{n.error&&(n.error.message.includes("Failed to fetch dynamically imported module")||n.error.message.includes("Importing a module script failed"))&&window.location.reload()});U(ee).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{}).catch(n=>{})});export{d as _};
