const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarComponent-6zu9Nu_R.js","assets/daysOfWeek-C19XqJ9X.js","assets/utils-BV2iPCIX.js","assets/vue-vendor-BNAjV1iG.js","assets/utils-CoXK20CO.css","assets/CalendarComponent-BgC-PM5r.css","assets/SideBarComponent-z8dDkBXm.js","assets/SideBarComponent-Db1l6UEw.css","assets/MonthSelector-BEa1E6W3.js","assets/MonthSelector-BDS4-O7F.css","assets/PeopleListWindow-CxjBlsQ3.js","assets/PeopleListWindow-3ZuDqQaQ.css","assets/ShiftCountWindow-B9-rNc4c.js","assets/ShiftCountWindow-c89VHJDj.css","assets/ExcelComponent-NIrJyZn6.js","assets/ExcelComponent-ClnnHqa8.css","assets/AuthorizationModal-B4KKKOFs.js","assets/AuthorizationModal-CTgTuQLR.css"])))=>i.map(i=>d[i]);
import{o as c,c as _,d as s,e as g,m as P,f as u,g as M,h as z,i as b,j as f,n as L,w as v,v as k,b as w,F as U,k as A}from"./vue-vendor-BNAjV1iG.js";import{_ as S,c as x,a as N}from"./utils-BV2iPCIX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))C(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&C(i)}).observe(document,{childList:!0,subtree:!0});function p(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function C(e){if(e.ep)return;e.ep=!0;const o=p(e);fetch(e.href,o)}})();const O="modulepreload",R=function(n){return"/"+n},D={},d=function(t,p,C){let e=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=i?.nonce||i?.getAttribute("nonce");e=Promise.allSettled(p.map(a=>{if(a=R(a),a in D)return;D[a]=!0;const m=a.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${y}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":O,m||(l.as="script"),l.crossOrigin="",l.href=a,r&&l.setAttribute("nonce",r),document.head.appendChild(l),m)return new Promise((E,h)=>{l.addEventListener("load",E),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return e.then(i=>{for(const r of i||[])r.status==="rejected"&&o(r.reason);return t().catch(o)})},j={},I={class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"};function V(n,t){return c(),_("svg",I,t[0]||(t[0]=[s("path",{d:"M23 4v6h-6"},null,-1),s("path",{d:"M1 20v-6h6"},null,-1),s("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),s("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)]))}const T=S(j,[["render",V],["__scopeId","data-v-11885e2d"]]),W={name:"VueCalendar",components:{CalendarComponent:g(()=>d(()=>import("./CalendarComponent-6zu9Nu_R.js"),__vite__mapDeps([0,1,2,3,4,5]))),SideBarComponent:g(()=>d(()=>import("./SideBarComponent-z8dDkBXm.js"),__vite__mapDeps([6,2,3,4,7]))),MonthSelector:g(()=>d(()=>import("./MonthSelector-BEa1E6W3.js"),__vite__mapDeps([8,2,3,4,9]))),PeopleListWindow:g(()=>d(()=>import("./PeopleListWindow-CxjBlsQ3.js"),__vite__mapDeps([10,2,3,4,11]))),ShiftCountWindow:g(()=>d(()=>import("./ShiftCountWindow-B9-rNc4c.js"),__vite__mapDeps([12,2,3,4,13]))),NotificationMessage:g(()=>d(()=>import("./utils-BV2iPCIX.js").then(n=>n.b),__vite__mapDeps([2,3,4]))),RefreshIcon:T},data(){return{currentPage:"CalendarComponent",isEditingMode:JSON.parse(localStorage.getItem("isEditingMode"))||!1,selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0}],monthDays:[],isRefreshing:!1,ExcelComponent:null,AuthorizationModal:null}},methods:{handleNavigation(n){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok? Twoje zmiany zostaną utracone.")||(n==="ExcelComponent"&&!this.ExcelComponent?(this.isLoading=!0,d(()=>import("./ExcelComponent-NIrJyZn6.js"),__vite__mapDeps([14,1,2,3,4,15])).then(t=>{this.ExcelComponent=P(t.default),this.currentPage=n,this.hasUnsavedChanges=!1,this.isLoading=!1})):(this.currentPage=n,this.hasUnsavedChanges=!1))},handleMonthChange(n){this.selectedMonth+=n,this.selectedMonth>11?(this.selectedMonth=0,this.selectedYear+=1):this.selectedMonth<0&&(this.selectedMonth=11,this.selectedYear-=1)},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent?this.$refs.calendarComponent.generateMonthDays():this.currentPage==="ExcelComponent"&&this.$refs.excelComponent&&this.$refs.excelComponent.generateMonthDays()},async checkShiftDataSync(){this.isRefreshing=!0,this.syncedChanges=await x(()=>this.generateCurrentView()),N("Odświeżanie...","blue"),setTimeout(()=>{this.isRefreshing=!1},800)},updateEditingMode(n){this.isEditingMode=n,localStorage.setItem("isEditingMode",JSON.stringify(n))},updateUnsavedChanges(n){this.hasUnsavedChanges=n},showPasswordPrompt(){this.AuthorizationModal?this.showPasswordModal=!0:d(()=>import("./AuthorizationModal-B4KKKOFs.js"),__vite__mapDeps([16,2,3,4,17])).then(n=>{this.AuthorizationModal=P(n.default),this.showPasswordModal=!0})},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.$refs.activeComponent?.handleChangesSaved()},emitEditingMode(n){this.updateEditingMode(n)},updateMonthDays(n){this.monthDays=n}},async mounted(){this.discardChanges(),this.hasUnsavedChanges=!1},computed:{peopleListEditingMode(){switch(this.currentPage){case"CalendarComponent":return this.isEditingMode;case"ExcelComponent":return!1;default:return!1}}}},Y={class:"app-container"},B=["disabled"],F={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},Z=["checked"],H=["aria-checked"],q={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},J={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},K={class:"main-content"},G={style:{display:"flex","flex-direction":"column","align-items":"center"}},Q={class:"editing-mode-label"},X={class:"editing-mode-label"};function $(n,t,p,C,e,o){const i=u("SideBarComponent"),r=u("MonthSelector"),a=u("refresh-icon"),m=u("CalendarComponent"),y=u("PeopleListWindow"),l=u("ShiftCountWindow"),E=u("NotificationMessage");return c(),_(U,null,[s("div",Y,[e.AuthorizationModal&&e.showPasswordModal?(c(),M(z(e.AuthorizationModal),{key:0,show:e.showPasswordModal,onClose:t[0]||(t[0]=h=>e.showPasswordModal=!1),onAuthorized:o.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"},null,40,["show","onAuthorized"])):b("",!0),s("button",{disabled:!e.hasUnsavedChanges,onClick:t[1]||(t[1]=(...h)=>o.showPasswordPrompt&&o.showPasswordPrompt(...h)),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,B),f(i,{currentComponent:e.currentPage,onNavigate:o.handleNavigation},null,8,["currentComponent","onNavigate"]),f(r,{currentMonth:e.selectedMonth,currentYear:e.selectedYear,locale:e.locale,hasUnsavedChanges:e.hasUnsavedChanges,onChangeMonth:o.handleMonthChange,onDiscardChanges:o.discardChanges},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges","onChangeMonth","onDiscardChanges"]),s("section",null,[s("button",{class:"top-right-buttons buttonRefresh",onClick:t[2]||(t[2]=h=>o.checkShiftDataSync()),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[f(a,{class:L({refreshing:e.isRefreshing})},null,8,["class"])]),s("label",F,[s("input",{type:"checkbox",checked:e.isEditingMode,onChange:t[3]||(t[3]=h=>o.emitEditingMode(h.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,Z),s("span",{class:"slider",role:"switch","aria-checked":e.isEditingMode},[e.isEditingMode?(c(),_("svg",J,t[5]||(t[5]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(c(),_("svg",q,t[4]||(t[4]=[s("path",{d:"M12 20h9"},null,-1),s("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,H)])]),s("main",K,[e.currentPage==="CalendarComponent"?(c(),M(m,{key:0,ref:"calendarComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,8,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):(c(),M(z(e.ExcelComponent),{key:1,ref:"excelComponent",isEditingMode:e.isEditingMode,selectedMonth:e.selectedMonth,selectedYear:e.selectedYear,people:e.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])),f(y,{people:e.people,isEditingMode:o.peopleListEditingMode},null,8,["people","isEditingMode"]),v(s("div",G,[v(s("h1",Q,t[6]||(t[6]=[w(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),w(" Przeciągaj członków zespołu na miejsca w grafiku."),s("br",null,null,-1),w("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]),512),[[k,e.currentPage==="CalendarComponent"]]),v(s("h1",X,t[7]||(t[7]=[w(" Tryb edytowania "),s("a",{style:{color:"#4caf50"}},"Włączony",-1),s("br",null,null,-1),w(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]),512),[[k,e.currentPage==="ExcelComponent"]])],512),[[k,e.isEditingMode]]),e.monthDays.length>0&&e.localData[1]!==null?(c(),M(l,{key:2,ref:"shiftCountWindow",people:e.people,monthDays:e.monthDays},null,8,["people","monthDays"])):b("",!0),f(E)])]),t[8]||(t[8]=s("footer",{class:"footer"},[s("p",null,"© 2025 puksh - All rights reserved")],-1))],64)}const ee=S(W,[["render",$],["__scopeId","data-v-8d67d295"]]);window.addEventListener("error",n=>{n.error&&(n.error.message.includes("Failed to fetch dynamically imported module")||n.error.message.includes("Importing a module script failed"))&&window.location.reload()});A(ee).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{}).catch(n=>{})});export{d as _};
