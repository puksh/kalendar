import{r as h,c as d,o as l,F as y,a as g,n as m,b as p,d as s,t as v}from"./vue-vendor-uYUse1kH.js";const i=h([]);let _=0;const c=(t,e="blue",o=3e3)=>{const n=_++;i.push({id:n,message:t,type:e}),setTimeout(()=>{f(n)},o)},f=t=>{const e=i.findIndex(o=>o.id===t);e!==-1&&i.splice(e,1)},S={name:"NotificationMessage",setup(){return{notifications:i,removeNotification:f}}},k=(t,e)=>{const o=t.__vccOpts||t;for(const[n,a]of e)o[n]=a;return o},b={class:"notification-container"},x=["onClick"];function C(t,e,o,n,a,u){return l(),d("div",b,[(l(!0),d(y,null,g(n.notifications,r=>(l(),d("div",{key:r.id,class:m(["notification",r.type])},[p(v(r.message)+" ",1),s("button",{onClick:j=>n.removeNotification(r.id),"aria-label":"Close notification"},e[0]||(e[0]=[s("svg",{viewBox:"0 0 24 24",width:"14",height:"14",stroke:"currentColor","stroke-width":"2"},[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]),8,x)],2))),128))])}const N=k(S,[["render",C],["__scopeId","data-v-ef1d7c4a"]]),E=Object.freeze(Object.defineProperty({__proto__:null,addNotification:c,default:N,removeNotification:f},Symbol.toStringTag,{value:"Module"}));async function w(t){try{const e=await fetch("https://mc.kot.li/?key=shiftData.json",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw e.status===404&&c("Brak danych na serwerze","red"),new Error(`Failed to fetch data from server: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching data from server:",e),c("Nie udało się połączyć z serwerem","red"),null}}async function I(t){try{const e=await w(()=>{console.log("Callback executed after fetching server shift data.")});return e?(Object.keys(localStorage).filter(a=>a!=="isEditingMode"&&a!=="currentPage").forEach(a=>localStorage.removeItem(a)),Object.entries(e).forEach(([a,u])=>localStorage.setItem(a,JSON.stringify(u))),typeof t=="function"&&t(),e):null}catch(e){return console.error("Error during data synchronization:",e),c("Błąd podczas synchronizacji danych","red"),null}}function O(){const t=sessionStorage.getItem("syncedChanges");if(!t)return{};const e=JSON.parse(t);return setTimeout(()=>sessionStorage.removeItem("syncedChanges"),5e3),e}export{N,k as _,c as a,E as b,I as c,O as r};
