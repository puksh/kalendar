const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/exceljs.min-DDuS4wR4.js","assets/crypto-vendor-x_riFVyO.js","assets/SideBarComponent-BzZkMZHr.js","assets/utils-ILKzS2sg.js","assets/vue-vendor-CVTALk6y.js","assets/utils-BloexXmG.css","assets/SideBarComponent-BpxvhTPy.css","assets/MonthSelector-BFj491y2.js","assets/MonthSelector-DsmUfWMT.css","assets/PeopleListWindow-BacNZLum.js","assets/PeopleListWindow-CKglWnKd.css","assets/ShiftCountWindow-zCzlcYX5.js","assets/ShiftCountWindow-DqTG3PgE.css","assets/CalendarComponent-pJJ-zPOu.js","assets/daysOfWeek-C19XqJ9X.js","assets/CalendarComponent-BznSCa6d.css","assets/ExcelComponent-C5hnJA7L.js","assets/ExcelComponent-CyHxXsBS.css","assets/AuthorizationModal-qJ1NF9Uc.js","assets/AuthorizationModal-D8OzEU4K.css"])))=>i.map(i=>d[i]);
import{c as u,o as c,d as a,n as j,e as w,w as I,t as M,F as k,a as L,f as E,g as y,h as S,i as C,j as N,k as A,l as T,v as U,b as _,m as b,p as F}from"./vue-vendor-CVTALk6y.js";import{_ as x,a as m,c as O}from"./utils-ILKzS2sg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(o){if(o.ep)return;o.ep=!0;const t=s(o);fetch(o.href,t)}})();const B="modulepreload",V=function(n){return"/"+n},R={},f=function(e,s,i){let o=Promise.resolve();if(s&&s.length>0){let r=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");o=r(s.map(d=>{if(d=V(d),d in R)return;R[d]=!0;const p=d.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":B,p||(g.as="script"),g.crossOrigin="",g.href=d,h&&g.setAttribute("nonce",h),document.head.appendChild(g),p)return new Promise((P,z)=>{g.addEventListener("load",P),g.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${d}`)))})}))}function t(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return o.then(r=>{for(const l of r||[])l.status==="rejected"&&t(l.reason);return e().catch(t)})},Y={},W={class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"};function q(n,e){return c(),u("svg",W,e[0]||(e[0]=[a("path",{d:"M23 4v6h-6"},null,-1),a("path",{d:"M1 20v-6h6"},null,-1),a("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),a("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)]))}const H=x(Y,[["render",q],["__scopeId","data-v-11885e2d"]]),Z={name:"ButtonExport",props:{people:{type:Array,required:!0},monthDays:{type:Array,required:!0},selectedMonth:{type:Number,required:!0},selectedYear:{type:Number,required:!0},currentPage:{type:String,default:"ExcelComponent"}},methods:{exportToCsv(){const e=["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"][this.selectedMonth];let s="\uFEFF";s+="Imię";for(let r=1;r<=this.getDaysInMonth();r++)s+=`;${r}`;s+=`\r
`;for(const r of this.people){s+=`"${r.name}"`;for(let l=1;l<=this.getDaysInMonth();l++){const h=this.getShiftForPersonAndDay(r.id,l);s+=`;${h||""}`}s+=`\r
`}const i=new Blob([s],{type:"text/csv;charset=utf-8"}),o=document.createElement("a"),t=URL.createObjectURL(i);o.setAttribute("href",t),o.setAttribute("download",`Harmonogram_${e}_${this.selectedYear}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},getDaysInMonth(){return new Date(this.selectedYear,this.selectedMonth+1,0).getDate()},getShiftForPersonAndDay(n,e){const i=new Date(this.selectedYear,this.selectedMonth,e).toDateString(),o=localStorage.getItem(i);if(o){const t=JSON.parse(o),r=[];return(t.dayShift1===n||t.dayShift2===n)&&r.push("D"),(t.nightShift1===n||t.nightShift2===n)&&r.push("N"),r.join(" ")}return""}}};function G(n,e,s,i,o,t){return c(),u("button",{class:j(["export-button top-right-buttons",{"excel-position":s.currentPage==="ExcelComponent","calendar-position":s.currentPage==="CalendarComponent"}]),onClick:e[0]||(e[0]=(...r)=>t.exportToCsv&&t.exportToCsv(...r)),title:"Eksportuj do CSV","aria-label":"Eksportuj harmonogram do pliku CSV"},e[1]||(e[1]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"export-icon"},[a("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a("polyline",{points:"7 10 12 15 17 10"}),a("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)]),2)}const J=x(Z,[["render",G],["__scopeId","data-v-9b04e590"]]),K={name:"ButtonImport",props:{isEditingMode:{type:Boolean,required:!0},people:{type:Array,required:!0},monthDays:{type:Array,required:!0}},emits:["has-changes","cells-imported"],data(){return{showModal:!1,pastedData:"",parsedData:[],daysMismatch:!1,importedCells:new Set,isDragging:!1}},computed:{daysInMonth(){return this.monthDays.length}},mounted(){this.$nextTick(()=>{this.$refs.dropZone&&this.$refs.dropZone.focus()}),window.addEventListener("paste",this.handleGlobalPaste)},beforeUnmount(){window.removeEventListener("paste",this.handleGlobalPaste)},methods:{showImportModal(){this.showModal=!0,this.resetImport(),this.$nextTick(()=>{this.$refs.dropZone&&this.$refs.dropZone.focus()})},closeImportModal(){this.showModal=!1},resetImport(){this.pastedData="",this.parsedData=[],this.importedCells.clear()},triggerFileInput(){this.$refs.fileInput&&this.$refs.fileInput.click()},onDragOver(n){this.isDragging=!0,n.dataTransfer.dropEffect="copy"},onDragLeave(){this.isDragging=!1},onDrop(n){this.isDragging=!1;const e=n.dataTransfer.files;if(e.length>0)this.handleFileData(e[0]);else{const s=n.dataTransfer.getData("text/html");if(s)this.processHtmlTable(s);else{const i=n.dataTransfer.getData("text/plain");i&&(this.pastedData=i,this.parseImportedData())}}},onPaste(n){const e=n.clipboardData||window.clipboardData,s=e.getData("text/html");if(s){this.processHtmlTable(s);return}const i=e.getData("text/plain");i&&(this.pastedData=i,this.parseImportedData())},handleGlobalPaste(n){this.showModal&&this.onPaste(n)},processHtmlTable(n){try{const i=new DOMParser().parseFromString(n,"text/html").querySelectorAll("table");if(i.length>0){const t=i[0].querySelectorAll("tr");let r="";t.forEach(l=>{const h=l.querySelectorAll("th, td"),d=Array.from(h).map(p=>p.textContent.trim());r+=d.join("	")+`
`}),this.pastedData=r,this.parseImportedData()}}catch{m("Nie udało się przetworzyć tabeli.","red")}},handleFileUpload(n){const e=n.target.files[0];e&&this.handleFileData(e)},handleFileData(n){n.type==="text/csv"||n.name.endsWith(".csv")?this.parseCSVFile(n):n.type.includes("spreadsheetml")||n.name.endsWith(".xlsx")||n.name.endsWith(".xls")?this.parseExcelFile(n):m("Nie wspierany format pliku. Proszę użyć pliku CSV lub Excela.","red")},parseCSVFile(n){const e=new FileReader;e.onload=s=>{this.pastedData=s.target.result,this.parseImportedData()},e.readAsText(n)},async parseExcelFile(n){try{const e=await f(()=>import("./exceljs.min-DDuS4wR4.js").then(o=>o.e),__vite__mapDeps([0,1])),s=new e.Workbook,i=new FileReader;i.onload=async o=>{const t=o.target.result;await s.xlsx.load(t);const r=s.getWorksheet(1);let l="";r.eachRow((h,d)=>{const p=h.values.slice(1);l+=p.join(",")+`
`}),this.pastedData=l,this.parseImportedData()},i.readAsArrayBuffer(n)}catch{m("Nie udało się przetworzyć pliku Excela.","red")}},parseImportedData(){if(!this.pastedData.trim()){this.parsedData=[];return}try{const n=this.pastedData.trim().split(/\r?\n/).filter(t=>t.trim());if(n.length<2){m("Zły format danych. Musi zawierać wiersz z dniami i kolumnę z członkami zespołu.","orange");return}const e=t=>{const r=[];let l="",h=!1;for(let d=0;d<t.length;d++){const p=t[d];p==='"'?h&&d<t.length-1&&t[d+1]==='"'?(l+='"',d++):h=!h:(p===","||p==="	"||p===";")&&!h?(r.push(l.trim()),l=""):l+=p}return r.push(l.trim()),r},s=n.map(e),i=s[0].slice(1),o=s.slice(1);this.parsedData=o.map(t=>{const r=t[0].replace(/^"(.*)"$/,"$1"),l=t.slice(1).map(h=>{const d=h.replace(/^"(.*)"$/,"$1").toUpperCase().trim();return["D","N","D N","DN"].includes(d)?d==="DN"?"D N":d:""});return{name:r,shifts:l}}),this.parsedData=this.parsedData.filter(t=>t.name),this.daysMismatch=i.length!==this.monthDays.length}catch{m("Nie udało się przetworzyć danych. Proszę sprawdzić format.","red"),this.parsedData=[]}},confirmImport(){if(!this.parsedData.length)return;const n=new Set;this.parsedData.forEach(e=>{const s=this.people.find(i=>i.name.toLowerCase()===e.name.toLowerCase());if(!s){m(`Nie znaleziono osoby o nazwie: ${e.name}`,"orange");return}e.shifts.forEach((i,o)=>{if(o<this.monthDays.length){const t=this.monthDays[o],r=t.date.toDateString();i&&(t.dayShift1===s.id&&(t.dayShift1=null),t.dayShift2===s.id&&(t.dayShift2=null),t.nightShift1===s.id&&(t.nightShift1=null),t.nightShift2===s.id&&(t.nightShift2=null),i.includes("D")&&(t.dayShift1?t.dayShift2||(t.dayShift2=s.id,t.dayShift2Name=s.name):(t.dayShift1=s.id,t.dayShift1Name=s.name)),i.includes("N")&&(t.nightShift1?t.nightShift2||(t.nightShift2=s.id,t.nightShift2Name=s.name):(t.nightShift1=s.id,t.nightShift1Name=s.name)),n.add(r),this.importedCells.add(`${s.id}-${t.date.getDate()}`))}})}),n.forEach(e=>{const s=this.monthDays.find(i=>i.date.toDateString()===e);if(s){const i={dayShift1:s.dayShift1,dayShift2:s.dayShift2,nightShift1:s.nightShift1,nightShift2:s.nightShift2};localStorage.setItem(e,JSON.stringify(i))}}),this.closeImportModal(),m("Import zakończony sukcesem.","green"),this.$emit("has-changes",!0),this.$emit("cells-imported",Array.from(this.importedCells))}}},Q=["disabled"],X={key:0,class:"import-modal"},$={class:"import-modal-content"},ee={class:"import-modal-header"},te={class:"import-content"},oe={key:0,class:"drop-zone-placeholder"},ne={key:0,class:"preview-section"},re={key:0,class:"warning-message"},se={class:"preview-table-container"},ae={class:"preview-table"},ie={class:"controls"},le={class:"modal-footer"},de=["disabled"];function ce(n,e,s,i,o,t){return c(),u(k,null,[a("button",{class:"top-right-buttons import-button",onClick:e[0]||(e[0]=(...r)=>t.showImportModal&&t.showImportModal(...r)),disabled:!s.isEditingMode,title:"Importuj dane do CSV lub Excel","aria-label":"Importuj dane do CSV lub Excel"},e[11]||(e[11]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("path",{d:"M3 14v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5M12 3v12M7 8l5-5 5 5"})],-1)]),8,Q),o.showModal?(c(),u("div",X,[a("div",$,[a("div",ee,[e[12]||(e[12]=a("h3",null,"Importowanie Danych",-1)),a("button",{class:"close-button",onClick:e[1]||(e[1]=(...r)=>t.closeImportModal&&t.closeImportModal(...r))},"×")]),a("div",te,[a("div",{class:j(["drop-zone",{"drag-active":o.isDragging,"has-data":o.parsedData.length>0}]),onDragover:e[3]||(e[3]=I((...r)=>t.onDragOver&&t.onDragOver(...r),["prevent"])),onDragleave:e[4]||(e[4]=I((...r)=>t.onDragLeave&&t.onDragLeave(...r),["prevent"])),onDrop:e[5]||(e[5]=I((...r)=>t.onDrop&&t.onDrop(...r),["prevent"])),onPaste:e[6]||(e[6]=(...r)=>t.onPaste&&t.onPaste(...r)),onClick:e[7]||(e[7]=(...r)=>t.triggerFileInput&&t.triggerFileInput(...r)),tabindex:"0",ref:"dropZone"},[o.parsedData.length===0?(c(),u("div",oe,e[13]||(e[13]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"gray","stroke-width":"2"},[a("path",{d:"M19 13v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-6M12 3v12M8 7l4-4 4 4"})],-1),a("p",null," Przeciągnij i upuść plik, wklej ze schowka, bądź kliknij aby wybrać plik ",-1),a("p",{class:"sub-text"}," Wspierane formaty: CSV, Excel ( xlsx, xls ) albo tabela ",-1)]))):w("",!0),a("input",{type:"file",ref:"fileInput",style:{display:"none"},onChange:e[2]||(e[2]=(...r)=>t.handleFileUpload&&t.handleFileUpload(...r)),accept:".csv,.xlsx,.xls"},null,544)],34),o.parsedData.length>0?(c(),u("div",ne,[e[15]||(e[15]=a("h4",null,"Podgląd importowanego miesiąca",-1)),o.daysMismatch?(c(),u("div",re," Uwaga: Importowany miesiąc ma "+M(o.parsedData[0].shifts.length)+" dni, a obecnie wybrany ma "+M(t.daysInMonth)+" dni. ",1)):w("",!0),a("div",se,[a("table",ae,[a("thead",null,[a("tr",null,[e[14]||(e[14]=a("th",null,null,-1)),(c(!0),u(k,null,L(o.parsedData[0].shifts,(r,l)=>(c(),u("th",{key:`header-${l}`},M(l+1),1))),128))])]),a("tbody",null,[(c(!0),u(k,null,L(o.parsedData,(r,l)=>(c(),u("tr",{key:`row-${l}`},[a("td",null,M(r.name),1),(c(!0),u(k,null,L(r.shifts,(h,d)=>(c(),u("td",{key:`cell-${l}-${d}`,class:"imported-shift"},M(h),1))),128))]))),128))])])]),a("div",ie,[a("button",{class:"reset-button",onClick:e[8]||(e[8]=(...r)=>t.resetImport&&t.resetImport(...r))},"Reset")])])):w("",!0),a("div",le,[a("button",{class:"cancel-button",onClick:e[9]||(e[9]=(...r)=>t.closeImportModal&&t.closeImportModal(...r))}," Anuluj "),a("button",{class:"import-confirm-button",onClick:e[10]||(e[10]=(...r)=>t.confirmImport&&t.confirmImport(...r)),disabled:!o.parsedData.length}," Importuj ",8,de)])])])])):w("",!0)],64)}const he=x(K,[["render",ce],["__scopeId","data-v-bb146a71"]]),pe={name:"VueCalendar",components:{SideBarComponent:E(()=>f(()=>import("./SideBarComponent-BzZkMZHr.js"),__vite__mapDeps([2,3,4,5,6]))),MonthSelector:E(()=>f(()=>import("./MonthSelector-BFj491y2.js"),__vite__mapDeps([7,3,4,5,8]))),PeopleListWindow:E(()=>f(()=>import("./PeopleListWindow-BacNZLum.js"),__vite__mapDeps([9,3,4,5,10]))),ShiftCountWindow:E(()=>f(()=>import("./ShiftCountWindow-zCzlcYX5.js"),__vite__mapDeps([11,3,4,5,12]))),NotificationMessage:E(()=>f(()=>import("./utils-ILKzS2sg.js").then(n=>n.b),__vite__mapDeps([3,4,5]))),RefreshIcon:H,ButtonExport:J,ButtonImport:he},data(){return{isEditingMode:this.safeGetFromStorage("isEditingMode",!1),selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0}],monthDays:[],isRefreshing:!1,AuthorizationModal:null,CalendarComponent:null,ExcelComponent:null,currentPage:localStorage.getItem("currentPage")||"ExcelComponent"}},methods:{handleNavigation(n){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok? Twoje zmiany zostaną utracone.")||(localStorage.setItem("currentPage",n),n==="CalendarComponent"&&!this.CalendarComponent?(this.isLoading=!0,f(()=>import("./CalendarComponent-pJJ-zPOu.js"),__vite__mapDeps([13,14,3,4,5,15])).then(e=>{this.CalendarComponent=b(e.default),this.currentPage=n,this.hasUnsavedChanges=!1,this.isLoading=!1})):n==="ExcelComponent"&&!this.ExcelComponent?(this.isLoading=!0,f(()=>import("./ExcelComponent-C5hnJA7L.js"),__vite__mapDeps([16,14,3,4,5,17])).then(e=>{this.ExcelComponent=b(e.default),this.currentPage=n,this.hasUnsavedChanges=!1,this.isLoading=!1})):(this.currentPage=n,this.hasUnsavedChanges=!1))},handleMonthChange(n){this.selectedMonth+=n,this.selectedMonth>11?(this.selectedMonth=0,this.selectedYear+=1):this.selectedMonth<0&&(this.selectedMonth=11,this.selectedYear-=1)},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="ExcelComponent"&&this.$refs.excelComponent?this.$refs.excelComponent.generateMonthDays():this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent&&this.$refs.calendarComponent.generateMonthDays()},async checkShiftDataSync(){const n=setTimeout(()=>{this.isRefreshing&&(this.isRefreshing=!1,m("Odświeżanie przerwane - timeout","red"))},6e3);this.isRefreshing=!0;try{const e=O(()=>this.generateCurrentView());this.syncedChanges=await Promise.race([e,new Promise((s,i)=>setTimeout(()=>i(new Error("Sync timeout")),5e3))]),this.hasUnsavedChanges=!1}catch(e){m(`Błąd podczas odświeżania: ${e.message||"Unknown error"}`,"red")}finally{clearTimeout(n),setTimeout(()=>{this.isRefreshing=!1},800)}},updateEditingMode(n){this.isEditingMode=n,localStorage.setItem("isEditingMode",JSON.stringify(n))},updateUnsavedChanges(n){this.hasUnsavedChanges=n},showPasswordPrompt(){this.AuthorizationModal?this.showPasswordModal=!0:f(()=>import("./AuthorizationModal-qJ1NF9Uc.js"),__vite__mapDeps([18,3,4,5,19])).then(n=>{this.AuthorizationModal=b(n.default),this.showPasswordModal=!0})},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.$refs.activeComponent?.handleChangesSaved()},emitEditingMode(n){this.updateEditingMode(n)},enableEditingMode(){this.isEditingMode=!0},updateMonthDays(n){this.monthDays=n},recoverFromError(){this.isRefreshing=!1,this.currentPage==="ExcelComponent"&&!this.$refs.excelComponent&&this.handleNavigation("ExcelComponent"),this.isLoading=!1},safeGetFromStorage(n,e){try{const s=localStorage.getItem(n);return s!==null?JSON.parse(s):e}catch{return e}},handleImportedCells(n){this.ExcelComponent&&(this.$refs.excelComponent.importedCells=new Set(n))}},async mounted(){try{if(this.isRefreshing=!1,!this.ExcelComponent)try{this.ExcelComponent=b((await f(async()=>{const{default:e}=await import("./ExcelComponent-C5hnJA7L.js");return{default:e}},__vite__mapDeps([16,14,3,4,5,17]))).default)}catch{m("Błąd ładowania Tabeli","red")}if(localStorage.getItem("currentPage")==="CalendarComponent"&&!this.CalendarComponent)try{const e=await f(()=>import("./CalendarComponent-pJJ-zPOu.js"),__vite__mapDeps([13,14,3,4,5,15]));this.CalendarComponent=b(e.default)}catch{m("Błąd ładowania Kalendarza","red"),this.currentPage="ExcelComponent",localStorage.setItem("currentPage","ExcelComponent")}this.discardChanges(),this.hasUnsavedChanges=!1}catch{m("Błąd inicjalizacji aplikacji","red")}window.addEventListener("error",n=>{this.recoverFromError()}),window.addEventListener("unhandledrejection",n=>{this.recoverFromError()})},computed:{peopleListEditingMode(){switch(this.currentPage){case"CalendarComponent":return this.isEditingMode;case"ExcelComponent":return!1;default:return!1}}}},ue={class:"app-container"},me=["disabled"],fe={class:"top-right-buttons-container"},ge={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},ye=["checked"],we=["aria-checked"],Ce={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},ve={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},De={class:"main-content"},Me={key:0,class:"refresh-overlay"},Ee={style:{display:"flex","flex-direction":"column","align-items":"center"}},_e={class:"editing-mode-label"},be={class:"editing-mode-label"};function ke(n,e,s,i,o,t){const r=y("SideBarComponent"),l=y("MonthSelector"),h=y("refresh-icon"),d=y("ButtonExport"),p=y("ButtonImport"),v=y("RefreshIcon"),g=y("PeopleListWindow"),P=y("ShiftCountWindow"),z=y("NotificationMessage");return c(),u(k,null,[a("div",ue,[o.AuthorizationModal&&o.showPasswordModal?(c(),S(N(o.AuthorizationModal),{key:0,show:o.showPasswordModal,onClose:e[0]||(e[0]=D=>o.showPasswordModal=!1),onAuthorized:t.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"},null,40,["show","onAuthorized"])):w("",!0),a("button",{disabled:!o.hasUnsavedChanges,onClick:e[1]||(e[1]=(...D)=>t.showPasswordPrompt&&t.showPasswordPrompt(...D)),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,me),C(r,{currentComponent:o.currentPage,onNavigate:t.handleNavigation},null,8,["currentComponent","onNavigate"]),C(l,{currentMonth:o.selectedMonth,currentYear:o.selectedYear,locale:o.locale,hasUnsavedChanges:o.hasUnsavedChanges,onChangeMonth:t.handleMonthChange,onDiscardChanges:t.discardChanges},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges","onChangeMonth","onDiscardChanges"]),a("section",fe,[a("button",{class:"top-right-buttons buttonRefresh",onClick:e[2]||(e[2]=D=>t.checkShiftDataSync()),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[C(h,{class:j({refreshing:o.isRefreshing})},null,8,["class"])]),a("label",ge,[a("input",{type:"checkbox",checked:o.isEditingMode,onChange:e[3]||(e[3]=D=>t.emitEditingMode(D.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,ye),a("span",{class:"slider",role:"switch","aria-checked":o.isEditingMode},[o.isEditingMode?(c(),u("svg",ve,e[5]||(e[5]=[a("path",{d:"M12 20h9"},null,-1),a("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(c(),u("svg",Ce,e[4]||(e[4]=[a("path",{d:"M12 20h9"},null,-1),a("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,we)]),C(d,{people:o.people,monthDays:o.monthDays,selectedMonth:o.selectedMonth,selectedYear:o.selectedYear,currentPage:o.currentPage},null,8,["people","monthDays","selectedMonth","selectedYear","currentPage"]),C(p,{isEditingMode:o.isEditingMode,people:o.people,monthDays:o.monthDays,onHasChanges:t.updateUnsavedChanges,onCellsImported:t.handleImportedCells},null,8,["isEditingMode","people","monthDays","onHasChanges","onCellsImported"])]),a("main",De,[o.isRefreshing?(c(),u("div",Me,[C(v,{class:"centered-refresh-icon refreshing"})])):w("",!0),a("div",{style:T({opacity:o.isRefreshing?"0.5":"1"})},[o.currentPage==="CalendarComponent"?(c(),S(N(o.CalendarComponent),{key:0,ref:"calendarComponent",isEditingMode:o.isEditingMode,selectedMonth:o.selectedMonth,selectedYear:o.selectedYear,people:o.people,onUpdateEditingMode:t.updateEditingMode,onHasChanges:t.updateUnsavedChanges,onMonthDaysUpdated:t.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):w("",!0),o.currentPage==="ExcelComponent"?(c(),S(N(o.ExcelComponent),{key:1,ref:"excelComponent",isEditingMode:o.isEditingMode,selectedMonth:o.selectedMonth,selectedYear:o.selectedYear,people:o.people,onUpdateEditingMode:t.updateEditingMode,onHasChanges:t.updateUnsavedChanges,onMonthDaysUpdated:t.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):w("",!0)],4),C(g,{people:o.people,isEditingMode:t.peopleListEditingMode},null,8,["people","isEditingMode"]),A(a("div",Ee,[A(a("h1",_e,e[6]||(e[6]=[_(" Tryb edytowania "),a("a",{style:{color:"#4caf50"}},"Włączony",-1),a("br",null,null,-1),_(" Przeciągaj członków zespołu na miejsca w grafiku."),a("br",null,null,-1),_("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]),512),[[U,o.currentPage==="CalendarComponent"]]),A(a("h1",be,e[7]||(e[7]=[_(" Tryb edytowania "),a("a",{style:{color:"#4caf50"}},"Włączony",-1),a("br",null,null,-1),_(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]),512),[[U,o.currentPage==="ExcelComponent"]])],512),[[U,o.isEditingMode]]),o.monthDays.length>0&&o.localData[1]!==null?(c(),S(P,{key:1,ref:"shiftCountWindow",people:o.people,monthDays:o.monthDays},null,8,["people","monthDays"])):w("",!0),C(z)])]),e[8]||(e[8]=a("footer",{class:"footer"},[a("p",null,"© 2025 puksh - All rights reserved")],-1))],64)}const Se=x(pe,[["render",ke],["__scopeId","data-v-34cf4c09"]]);window.addEventListener("error",n=>{n.error&&(n.error.message.includes("Failed to fetch dynamically imported module")||n.error.message.includes("Importing a module script failed"))&&window.location.reload()});F(Se).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(n=>{}).catch(n=>{})});export{f as _};
