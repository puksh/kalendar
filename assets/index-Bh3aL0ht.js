const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/exceljs.min-rgIH9GXZ.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/PeopleListWindow-CLAmvUtK.js","assets/utils-BO-MB2ZG.js","assets/vue-vendor-RF0o26Ul.js","assets/utils-BWm1wYfN.css","assets/PeopleListWindow-BxO8ts3g.css","assets/ShiftCountWindow-BN-h7aWt.js","assets/ShiftCountWindow-9v8bD_ak.css","assets/AuthorizationModal-CwY7jOFj.js","assets/AuthorizationModal-bqQnogzt.css","assets/CalendarComponent-BWYhMwno.js","assets/shiftManagement-CXvRfEnl.js","assets/CalendarComponent-By5M5QIr.css","assets/ExcelComponent-DDbRgWH_.js","assets/ExcelComponent-Ml6LRt7M.css"])))=>i.map(i=>d[i]);
import{c as f,o as m,d as i,b as P,e as B,f as D,n as x,w as A,t as I,F as N,a as U,g as G,h as b,i as k,m as X,j as L,k as T,l as V,p as O,q as Q,v as j,s as W,u as ee}from"./vue-vendor-RF0o26Ul.js";import{_ as S,a as C,c as te}from"./utils-BO-MB2ZG.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const ne="modulepreload",oe=function(e){return"/"+e},Y={},M=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),p=l?.nonce||l?.getAttribute("nonce");a=s(n.map(c=>{if(c=oe(c),c in Y)return;Y[c]=!0;const u=c.endsWith(".css"),y=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":ne,u||(h.as="script"),h.crossOrigin="",h.href=c,p&&h.setAttribute("nonce",p),document.head.appendChild(h),u)return new Promise((E,d)=>{h.addEventListener("load",E),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},ae={name:"ButtonSwitchView",props:{currentComponent:{type:String,required:!0,validator:e=>["CalendarComponent","ExcelComponent"].includes(e)}}};function se(e,t,n,r,a,o){return n.currentComponent==="ExcelComponent"?(m(),f("button",{key:0,onClick:t[0]||(t[0]=s=>e.$emit("navigate","CalendarComponent")),class:"switch-view-button",title:"Zmień widok na kalendarz","aria-label":"Zmień widok na kalendarz"},t[2]||(t[2]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-width":"3"},[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),i("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),i("line",{x1:"9",y1:"4",x2:"9",y2:"22"})],-1),P(" Kalendarz ")]))):(m(),f("button",{key:1,onClick:t[1]||(t[1]=s=>e.$emit("navigate","ExcelComponent")),class:"switch-view-button",title:"Zmień widok na tabele","aria-label":"Zmień widok na tabele"},t[3]||(t[3]=[B('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="3" data-v-030e4286><rect x="3" y="3" width="18" height="18" rx="2" data-v-030e4286></rect><line x1="3" y1="9" x2="21" y2="9" data-v-030e4286></line><line x1="3" y1="15" x2="21" y2="15" data-v-030e4286></line><line x1="9" y1="3" x2="9" y2="21" data-v-030e4286></line><line x1="15" y1="3" x2="15" y2="21" data-v-030e4286></line></svg> Tabela ',2)])))}const H=S(ae,[["render",se],["__scopeId","data-v-030e4286"]]),ie={name:"PencilIcon",props:{isEditing:{type:Boolean,required:!0}}},re=["aria-checked"],le={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"},de={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"pencil-icon"};function ce(e,t,n,r,a,o){return m(),f("span",{class:"slider",role:"switch","aria-checked":n.isEditing},[n.isEditing?(m(),f("svg",de,t[1]||(t[1]=[i("path",{d:"M12 20h9"},null,-1),i("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)]))):(m(),f("svg",le,t[0]||(t[0]=[i("path",{d:"M12 20h9"},null,-1),i("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},null,-1)])))],8,re)}const Z=S(ie,[["render",ce]]),he={},pe={class:"refresh-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"};function ue(e,t){return m(),f("svg",pe,t[0]||(t[0]=[i("path",{d:"M23 4v6h-6"},null,-1),i("path",{d:"M1 20v-6h6"},null,-1),i("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10"},null,-1),i("path",{d:"M20.49 15a9 9 0 0 1-14.85 3.36L1 14"},null,-1)]))}const K=S(he,[["render",ue],["__scopeId","data-v-11885e2d"]]);function me(e){const t=[{date:new Date(e,0,1),name:"Nowy Rok"},{date:new Date(e,0,6),name:"Święto Trzech Króli"},{date:new Date(e,4,1),name:"Święto Pracy"},{date:new Date(e,4,3),name:"Święto Konstytucji 3 Maja"},{date:new Date(e,7,15),name:"Wniebowzięcie Najświętszej Maryi Panny"},{date:new Date(e,10,1),name:"Wszystkich Świętych"},{date:new Date(e,10,11),name:"Święto Niepodległości"},{date:new Date(e,11,25),name:"Boże Narodzenie (pierwszy dzień)"},{date:new Date(e,11,26),name:"Boże Narodzenie (drugi dzień)"}],n=ge(e);t.push({date:n,name:"Wielkanoc"});const r=new Date(n);r.setDate(n.getDate()+1),t.push({date:r,name:"Poniedziałek Wielkanocny"});const a=new Date(n);a.setDate(n.getDate()+49),t.push({date:a,name:"Zielone Świątki"});const o=new Date(n);return o.setDate(n.getDate()+60),t.push({date:o,name:"Boże Ciało"}),t}function ge(e){const t=e%19,n=Math.floor(e/100),r=e%100,a=Math.floor(n/4),o=n%4,s=Math.floor((n+8)/25),l=Math.floor((n-s+1)/3),p=(19*t+n-a-l+15)%30,c=Math.floor(r/4),u=r%4,y=(32+2*o+2*c-p-u)%7,h=Math.floor((t+11*p+22*y)/451),E=Math.floor((p+y-7*h+114)/31)-1,d=(p+y-7*h+114)%31+1;return new Date(e,E,d)}function F(e){const t=me(e.getFullYear());for(const n of t)if(n.date.getDate()===e.getDate()&&n.date.getMonth()===e.getMonth()&&n.date.getFullYear()===e.getFullYear())return{isHoliday:!0,name:n.name};return{isHoliday:!1}}const fe=e=>["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"][e],we=e=>{let t=e,n="",r;for(;t>0;)r=(t-1)%26,n=String.fromCharCode(65+r)+n,t=Math.floor((t-r)/26);return n},ye=(e,t,n=`
`)=>{const r=t.toDateString(),a=localStorage.getItem(r);if(a){const o=JSON.parse(a),s=[];return(o.dayShift1===e||o.dayShift2===e)&&s.push("D"),(o.nightShift1===e||o.nightShift2===e)&&s.push("N"),s.join(n)}return""},Ce=e=>{const t=e.getDay();return t===0||t===6?!0:F(e).isHoliday},ve=(e,t)=>{const n=document.createElement("a"),r=URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},Me=e=>{let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},be={name:"ButtonExport",props:{people:{type:Array,required:!0},monthDays:{type:Array,required:!0},selectedMonth:{type:Number,required:!0},selectedYear:{type:Number,required:!0},currentPage:{type:String,default:"ExcelComponent"}},data(){return{showExportMenu:!1,isMobileView:!1}},mounted(){document.addEventListener("click",this.handleOutsideClick),this.checkMobileView(),window.addEventListener("resize",this.checkMobileView)},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("resize",this.checkMobileView)},methods:{toggleExportMenu(e){e.stopPropagation(),this.showExportMenu=!this.showExportMenu},handleOutsideClick(e){this.showExportMenu&&!e.target.closest(".export-container")&&(this.showExportMenu=!1)},getMonthName(){return fe(this.selectedMonth)},getFilename(e){return`Harmonogram_${this.getMonthName()}_${this.selectedYear}.${e}`},exportToCsv(){let e="\uFEFF";e+="Imię";for(let n=1;n<=this.getDaysInMonth();n++)e+=`;${n}`;e+=`\r
`;for(const n of this.people){e+=`"${n.name}"`;for(let r=1;r<=this.getDaysInMonth();r++)e+=`;${this.getFormattedShift(n.id,r," ")||""}`;e+=`\r
`}const t=new Blob([e],{type:"text/csv;charset=utf-8"});ve(t,this.getFilename("csv")),this.showExportMenu=!1},async exportToPdf(){try{const{jsPDF:e}=await M(async()=>{const{jsPDF:d}=await import("./jspdf.es.min-BqXvgFbb.js").then(g=>g.j);return{jsPDF:d}},[]),{autoTable:t}=await M(async()=>{const{autoTable:d}=await import("./jspdf.plugin.autotable-BgrBGiiK.js");return{autoTable:d}},[]),n=new e({orientation:"landscape",unit:"mm",format:"a4"});try{const d=await fetch("/assets/fonts/IBMPlexMono-Regular.ttf");if(!d.ok)throw new Error("Font file not found");const g=await d.arrayBuffer();n.addFileToVFS("IBMPlexMono-Regular.ttf",Me(g)),n.addFont("IBMPlexMono-Regular.ttf","IBMPlexMono","normal"),n.setFont("IBMPlexMono")}catch(d){console.warn("Could not load local font, using fallback",d),n.setFont("helvetica")}let r=n.internal.pageSize.getWidth();n.setFontSize(16),n.setTextColor(0,0,0);const a="IZBA PRZYJĘĆ DZIECIĘCA",o=n.getStringUnitWidth(a)*n.getFontSize()/n.internal.scaleFactor;n.text(a,(r-o)/2,15);const l="ROZKŁAD PRACY PRACOWNIKÓW KONTRAKTOWYCH - {0} {1}r.".replace("{0}",this.getMonthName()).replace("{1}",this.selectedYear),p=n.getStringUnitWidth(l)*n.getFontSize()/n.internal.scaleFactor;n.text(l,(r-p)/2,22);const c=["Imię"];for(let d=1;d<=this.getDaysInMonth();d++)c.push(d.toString());const u=this.people.map(d=>{const g=[d.name];for(let w=1;w<=this.getDaysInMonth();w++){const v=this.getFormattedShift(d.id,w,`
`);g.push(v||"")}return g});t(n,{head:[c],body:u,startY:30,theme:"grid",margin:{left:8},styles:{fontSize:8,cellPadding:3,font:"IBMPlexMono",fontStyle:"normal",lineWidth:.3,minCellHeight:8,halign:"center",cellWidth:"wrap",overflow:"linebreak"},columnStyles:{0:{cellWidth:24}},headStyles:{fillColor:[0,62,62],textColor:[255,255,255],fontSize:6},didParseCell:function(d){try{if(d.section==="head"&&d.row.index===0&&d.column.index>0){const g=parseInt(d.cell.raw.toString());if(!isNaN(g)){const w=new Date(this.selectedYear,this.selectedMonth,g),v=w.getDay(),z=v===6,_=v===0;F(w).isHoliday?(d.cell.styles.fillColor=[255,255,255],d.cell.styles.textColor=[204,0,0]):z?(d.cell.styles.fillColor=[0,153,0],d.cell.styles.textColor=[255,255,255]):_&&(d.cell.styles.fillColor=[204,0,0],d.cell.styles.textColor=[255,255,255])}}else if(d.section==="body"&&(d.row.index%2===1?d.cell.styles.fillColor=[240,240,240]:d.cell.styles.fillColor=[255,255,255],d.column.index>0)){const g=parseInt(d.cell.raw.toString());if(!isNaN(g)){const w=new Date(this.selectedYear,this.selectedMonth,g),v=w.getDay(),z=v===6,_=v===0;F(w).isHoliday?d.cell.styles.fillColor=[255,238,238]:(z||_)&&(d.cell.styles.fillColor=[235,235,235])}}}catch(g){console.error("Error in didParseCell:",g)}}.bind(this),didDrawCell:function(d){try{if(d.section==="head"&&d.row.index===0&&d.column.index>0){const g=parseInt(d.cell.raw.toString());if(!isNaN(g)){const w=new Date(this.selectedYear,this.selectedMonth,g);if(F(w).isHoliday){const{x:z,y:_,width:R}=d.cell;n.setFontSize(6),n.setTextColor(204,0,0),n.text("*",z+R-3,_+3),n.setFontSize(8),n.setTextColor(0,0,0)}}}}catch(g){console.error("Error in didDrawCell:",g)}}.bind(this)});const h=(n.lastAutoTable.finalY||150)+10;n.setFontSize(10),n.setTextColor(0,0,0),n.text("Legenda:",14,h),n.text("D  - Dzienna 07:00-19:00",14,h+6),n.text("N  - Nocna   19:00-07:00",14,h+12),n.text("DN - Doba    07:00-07:00",14,h+18);const E=[];for(let d=1;d<=this.getDaysInMonth();d++){const g=new Date(this.selectedYear,this.selectedMonth,d),w=F(g);w.isHoliday&&E.push({date:g,name:w.name})}E.length!=0&&(n.text("Święta w tym miesiącu:",14,h+28),E.forEach((d,g)=>{n.text(`${d.date.getDate()} - ${d.name}`,14,h+34+g*6)})),n.save(this.getFilename("pdf")),this.showExportMenu=!1,C("Harmonogram zapisany jako PDF","green")}catch(e){console.error("Error exporting PDF:",e),C("Błąd podczas eksportu do PDF","red")}},async exportToExcel(){try{const e=await M(()=>import("./exceljs.min-rgIH9GXZ.js").then(l=>l.e),__vite__mapDeps([0,1])),t=new e.Workbook,n=t.addWorksheet(`${this.getMonthName()} ${this.selectedYear}`),r=["Imię"];for(let l=1;l<=this.getDaysInMonth();l++)r.push(l.toString());n.addRow(r);const a=n.getRow(1).eachCell(l=>{l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"003E3E"}},l.font={color:{argb:"FFFFFF"},bold:!0},l.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}});this.people.forEach((l,p)=>{const c=[l.name];for(let y=1;y<=this.getDaysInMonth();y++)c.push(this.getFormattedShift(l.id,y," "));n.addRow(c);const u=p+2;u%2===0&&n.getRow(u).eachCell(y=>{y.fill={type:"pattern",pattern:"solid",fgColor:{argb:"F0F0F0"}}})});for(let l=1;l<=this.getDaysInMonth();l++){const p=new Date(this.selectedYear,this.selectedMonth,l),{isHoliday:c,name:u}=F(p),y=p.getDay(),h=y===6,E=y===0;if(h||E||c){const g=we(l+1);for(let v=2;v<=this.people.length+1;v++){const z=n.getCell(`${g}${v}`);z.fill={type:"pattern",pattern:"solid",fgColor:{argb:c?"FFEEEE":"EEEEEE"}}}const w=n.getCell(`${g}1`);if(c){w.note=u;const v=w.value?.toString()||"";w.value=v+"★",w.font={color:{argb:"FFCC0000"},bold:!0}}else h?(w.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009900"}},w.font={color:{argb:"FFFFFF"},bold:!0}):E&&(w.fill={type:"pattern",pattern:"solid",fgColor:{argb:"CC0000"}},w.font={color:{argb:"FFFFFF"},bold:!0})}}n.columns.forEach(l=>{l.width=12}),n.getColumn(1).width=20,n.getColumn(1).alignment={horizontal:"left"};const o=await t.xlsx.writeBuffer(),s=new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});this.downloadFile(s,this.getFilename("xlsx")),this.showExportMenu=!1,C("Harmonogram zapisany jako Excel","green")}catch(e){console.error("Error exporting Excel:",e),C("Błąd podczas eksportu do Excel","red")}},downloadFile(e,t){const n=document.createElement("a"),r=URL.createObjectURL(e);n.setAttribute("href",r),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},getDaysInMonth(){return new Date(this.selectedYear,this.selectedMonth+1,0).getDate()},getFormattedShift(e,t,n=`
`){const r=new Date(this.selectedYear,this.selectedMonth,t);return ye(e,r,n)},isWeekendOrHoliday(e){const t=new Date(this.selectedYear,this.selectedMonth,e);return Ce(t)},checkMobileView(){this.isMobileView=window.innerWidth<=768}}},De={class:"export-container"};function Ee(e,t,n,r,a,o){return m(),f("div",De,[i("button",{class:x(["export-button top-right-buttons",{"excel-position":n.currentPage==="ExcelComponent","calendar-position":n.currentPage==="CalendarComponent"}]),onClick:t[0]||(t[0]=(...s)=>o.toggleExportMenu&&o.toggleExportMenu(...s)),title:"Eksportuj harmonogram","aria-label":"Eksportuj harmonogram"},t[4]||(t[4]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"export-icon"},[i("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),i("polyline",{points:"7 10 12 15 17 10"}),i("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)]),2),a.showExportMenu?(m(),f("div",{key:0,class:x(["export-menu",[{"excel-position":n.currentPage==="ExcelComponent","calendar-position":n.currentPage==="CalendarComponent"},{"mobile-excel":n.currentPage==="ExcelComponent"&&a.isMobileView,"mobile-calendar":n.currentPage==="CalendarComponent"&&a.isMobileView}]])},[i("button",{onClick:t[1]||(t[1]=(...s)=>o.exportToCsv&&o.exportToCsv(...s)),class:"export-option"},t[5]||(t[5]=[B('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-27cb7a9a><path d="M14 3v4a1 1 0 0 0 1 1h4" data-v-27cb7a9a></path><path d="M17 21H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7l5 5v11a2 2 0 0 1-2 2z" data-v-27cb7a9a></path><path d="M9 17h6" data-v-27cb7a9a></path><path d="M9 13h6" data-v-27cb7a9a></path></svg><span data-v-27cb7a9a>CSV</span>',2)])),i("button",{onClick:t[2]||(t[2]=(...s)=>o.exportToExcel&&o.exportToExcel(...s)),class:"export-option"},t[6]||(t[6]=[B('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="lightgreen" stroke-width="2" data-v-27cb7a9a><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-27cb7a9a></path><polyline points="14 2 14 8 20 8" data-v-27cb7a9a></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-27cb7a9a></line><line x1="16" y1="17" x2="8" y2="17" data-v-27cb7a9a></line><polyline points="10 9 9 9 8 9" data-v-27cb7a9a></polyline></svg><span data-v-27cb7a9a>Excel (XLSX)</span>',2)])),i("button",{onClick:t[3]||(t[3]=(...s)=>o.exportToPdf&&o.exportToPdf(...s)),class:"export-option"},t[7]||(t[7]=[B('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="pink" stroke-width="2" data-v-27cb7a9a><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-27cb7a9a></path><polyline points="14 2 14 8 20 8" data-v-27cb7a9a></polyline><line x1="16" y1="13" x2="8" y2="13" data-v-27cb7a9a></line><line x1="16" y1="17" x2="8" y2="17" data-v-27cb7a9a></line><polyline points="10 9 9 9 8 9" data-v-27cb7a9a></polyline></svg><span data-v-27cb7a9a>PDF</span>',2)]))],2)):D("",!0)])}const q=S(be,[["render",Ee],["__scopeId","data-v-27cb7a9a"]]),ke={name:"ButtonImport",props:{isEditingMode:{type:Boolean,required:!0},people:{type:Array,required:!0},monthDays:{type:Array,required:!0}},emits:["has-changes","cells-imported"],data(){return{showModal:!1,pastedData:"",parsedData:[],daysMismatch:!1,importedCells:new Set,isDragging:!1}},computed:{daysInMonth(){return this.monthDays.length}},mounted(){this.$nextTick(()=>{this.$refs.dropZone&&this.$refs.dropZone.focus()}),window.addEventListener("paste",this.handleGlobalPaste)},beforeUnmount(){window.removeEventListener("paste",this.handleGlobalPaste)},methods:{showImportModal(){this.showModal=!0,this.resetImport(),this.$nextTick(()=>{this.$refs.dropZone&&this.$refs.dropZone.focus()})},closeImportModal(){this.showModal=!1},resetImport(){this.pastedData="",this.parsedData=[],this.importedCells.clear()},triggerFileInput(){this.$refs.fileInput&&this.$refs.fileInput.click()},onDragOver(e){this.isDragging=!0,e.dataTransfer.dropEffect="copy"},onDragLeave(){this.isDragging=!1},onDrop(e){this.isDragging=!1;const t=e.dataTransfer.files;if(t.length>0)this.handleFileData(t[0]);else{const n=e.dataTransfer.getData("text/html");if(n)this.processHtmlTable(n);else{const r=e.dataTransfer.getData("text/plain");r&&(this.pastedData=r,this.parseImportedData())}}},onPaste(e){const t=e.clipboardData||window.clipboardData,n=t.getData("text/html");if(n){this.processHtmlTable(n);return}const r=t.getData("text/plain");r&&(this.pastedData=r,this.parseImportedData())},handleGlobalPaste(e){this.showModal&&this.onPaste(e)},processHtmlTable(e){try{const r=new DOMParser().parseFromString(e,"text/html").querySelectorAll("table");if(r.length>0){const o=r[0].querySelectorAll("tr");let s="";o.forEach(l=>{const p=l.querySelectorAll("th, td"),c=Array.from(p).map(u=>u.textContent.trim());s+=c.join("	")+`
`}),this.pastedData=s,this.parseImportedData()}}catch(t){console.error("Error processing HTML table:",t),C("Nie udało się przetworzyć tabeli.","red")}},handleFileUpload(e){const t=e.target.files[0];t&&this.handleFileData(t)},handleFileData(e){e.type==="text/csv"||e.name.endsWith(".csv")?this.parseCSVFile(e):e.type.includes("spreadsheetml")||e.name.endsWith(".xlsx")||e.name.endsWith(".xls")?this.parseExcelFile(e):C("Nie wspierany format pliku. Proszę użyć pliku CSV lub Excela.","red")},parseCSVFile(e){const t=new FileReader;t.onload=n=>{this.pastedData=n.target.result,this.parseImportedData()},t.readAsText(e)},async parseExcelFile(e){try{const t=await M(()=>import("./exceljs.min-rgIH9GXZ.js").then(a=>a.e),__vite__mapDeps([0,1])),n=new t.Workbook,r=new FileReader;r.onload=async a=>{const o=a.target.result;await n.xlsx.load(o);const s=n.getWorksheet(1);let l="";s.eachRow((p,c)=>{const u=p.values.slice(1);l+=u.join(",")+`
`}),this.pastedData=l,this.parseImportedData()},r.readAsArrayBuffer(e)}catch(t){console.error("Error parsing Excel file:",t),C("Nie udało się przetworzyć pliku Excela.","red")}},parseImportedData(){if(!this.pastedData.trim()){this.parsedData=[];return}try{const e=this.pastedData.trim().split(/\r?\n/).filter(o=>o.trim());if(e.length<2){C("Zły format danych. Musi zawierać wiersz z dniami i kolumnę z członkami zespołu.","orange");return}const t=o=>{const s=[];let l="",p=!1;for(let c=0;c<o.length;c++){const u=o[c];u==='"'?p&&c<o.length-1&&o[c+1]==='"'?(l+='"',c++):p=!p:(u===","||u==="	"||u===";")&&!p?(s.push(l.trim()),l=""):l+=u}return s.push(l.trim()),s},n=e.map(t),r=n[0].slice(1),a=n.slice(1);this.parsedData=a.map(o=>{const s=o[0].replace(/^"(.*)"$/,"$1"),l=o.slice(1).map(p=>{const c=p.replace(/^"(.*)"$/,"$1").toUpperCase().trim();return["D","N","D N","DN"].includes(c)?c==="DN"?"D N":c:""});return{name:s,shifts:l}}),this.parsedData=this.parsedData.filter(o=>o.name),this.daysMismatch=r.length!==this.monthDays.length}catch(e){console.error("Error parsing imported data:",e),C("Nie udało się przetworzyć danych. Proszę sprawdzić format.","red"),this.parsedData=[]}},confirmImport(){if(!this.parsedData.length)return;const e=new Set;this.parsedData.forEach(t=>{const n=this.people.find(r=>r.name.toLowerCase()===t.name.toLowerCase());if(!n){C(`Nie znaleziono osoby o nazwie: ${t.name}`,"orange");return}t.shifts.forEach((r,a)=>{if(a<this.monthDays.length){const o=this.monthDays[a],s=o.date.toDateString();r&&(o.dayShift1===n.id&&(o.dayShift1=null),o.dayShift2===n.id&&(o.dayShift2=null),o.nightShift1===n.id&&(o.nightShift1=null),o.nightShift2===n.id&&(o.nightShift2=null),r.includes("D")&&(o.dayShift1?o.dayShift2||(o.dayShift2=n.id,o.dayShift2Name=n.name):(o.dayShift1=n.id,o.dayShift1Name=n.name)),r.includes("N")&&(o.nightShift1?o.nightShift2||(o.nightShift2=n.id,o.nightShift2Name=n.name):(o.nightShift1=n.id,o.nightShift1Name=n.name)),e.add(s),this.importedCells.add(`${n.id}-${o.date.getDate()}`))}})}),e.forEach(t=>{const n=this.monthDays.find(r=>r.date.toDateString()===t);if(n){const r={dayShift1:n.dayShift1,dayShift2:n.dayShift2,nightShift1:n.nightShift1,nightShift2:n.nightShift2};localStorage.setItem(t,JSON.stringify(r))}}),this.closeImportModal(),C("Import zakończony sukcesem.","green"),this.$emit("has-changes",!0),this.$emit("cells-imported",Array.from(this.importedCells))}}},xe=["disabled"],Se={key:0,class:"import-modal"},ze={class:"import-modal-content"},Pe={class:"import-modal-header"},Ie={class:"import-content"},Fe={key:0,class:"drop-zone-placeholder"},_e={key:0,class:"preview-section"},Ne={key:0,class:"warning-message"},Le={class:"preview-table-container"},Te={class:"preview-table"},Be={class:"controls"},Re={class:"modal-footer"},Ae=["disabled"];function Ue(e,t,n,r,a,o){return m(),f(N,null,[i("button",{class:"top-right-buttons import-button",onClick:t[0]||(t[0]=(...s)=>o.showImportModal&&o.showImportModal(...s)),disabled:!n.isEditingMode,title:"Importuj dane do CSV lub Excel","aria-label":"Importuj dane do CSV lub Excel"},t[11]||(t[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"22",height:"22",fill:"none",stroke:"currentColor","stroke-width":"2"},[i("path",{d:"M3 14v5a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5M12 3v12M7 8l5-5 5 5"})],-1)]),8,xe),a.showModal?(m(),f("div",Se,[i("div",ze,[i("div",Pe,[t[12]||(t[12]=i("h3",null,"Importowanie Danych",-1)),i("button",{class:"close-button",onClick:t[1]||(t[1]=(...s)=>o.closeImportModal&&o.closeImportModal(...s))},"×")]),i("div",Ie,[i("div",{class:x(["drop-zone",{"drag-active":a.isDragging,"has-data":a.parsedData.length>0}]),onDragover:t[3]||(t[3]=A((...s)=>o.onDragOver&&o.onDragOver(...s),["prevent"])),onDragleave:t[4]||(t[4]=A((...s)=>o.onDragLeave&&o.onDragLeave(...s),["prevent"])),onDrop:t[5]||(t[5]=A((...s)=>o.onDrop&&o.onDrop(...s),["prevent"])),onPaste:t[6]||(t[6]=(...s)=>o.onPaste&&o.onPaste(...s)),onClick:t[7]||(t[7]=(...s)=>o.triggerFileInput&&o.triggerFileInput(...s)),tabindex:"0",ref:"dropZone"},[a.parsedData.length===0?(m(),f("div",Fe,t[13]||(t[13]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"gray","stroke-width":"2"},[i("path",{d:"M19 13v6a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-6M12 3v12M8 7l4-4 4 4"})],-1),i("p",null," Przeciągnij i upuść plik, wklej ze schowka, bądź kliknij aby wybrać plik ",-1),i("p",{class:"sub-text"}," Wspierane formaty: CSV, Excel ( xlsx, xls ) albo tabela ",-1)]))):D("",!0),i("input",{type:"file",ref:"fileInput",style:{display:"none"},onChange:t[2]||(t[2]=(...s)=>o.handleFileUpload&&o.handleFileUpload(...s)),accept:".csv,.xlsx,.xls"},null,544)],34),a.parsedData.length>0?(m(),f("div",_e,[t[15]||(t[15]=i("h4",null,"Podgląd importowanego miesiąca",-1)),a.daysMismatch?(m(),f("div",Ne," Uwaga: Importowany miesiąc ma "+I(a.parsedData[0].shifts.length)+" dni, a obecnie wybrany ma "+I(o.daysInMonth)+" dni. ",1)):D("",!0),i("div",Le,[i("table",Te,[i("thead",null,[i("tr",null,[t[14]||(t[14]=i("th",null,null,-1)),(m(!0),f(N,null,U(a.parsedData[0].shifts,(s,l)=>(m(),f("th",{key:`header-${l}`},I(l+1),1))),128))])]),i("tbody",null,[(m(!0),f(N,null,U(a.parsedData,(s,l)=>(m(),f("tr",{key:`row-${l}`},[i("td",null,I(s.name),1),(m(!0),f(N,null,U(s.shifts,(p,c)=>(m(),f("td",{key:`cell-${l}-${c}`,class:"imported-shift"},I(p),1))),128))]))),128))])])]),i("div",Be,[i("button",{class:"reset-button",onClick:t[8]||(t[8]=(...s)=>o.resetImport&&o.resetImport(...s))},"Reset")])])):D("",!0),i("div",Re,[i("button",{class:"cancel-button",onClick:t[9]||(t[9]=(...s)=>o.closeImportModal&&o.closeImportModal(...s))}," Anuluj "),i("button",{class:"import-confirm-button",onClick:t[10]||(t[10]=(...s)=>o.confirmImport&&o.confirmImport(...s)),disabled:!a.parsedData.length}," Importuj ",8,Ae)])])])])):D("",!0)],64)}const $=S(ke,[["render",Ue],["__scopeId","data-v-6c514bdd"]]),Ve={name:"MonthSelector",props:{currentMonth:{type:Number,required:!0},currentYear:{type:Number,required:!0},locale:{type:String,default:"pl"},hasUnsavedChanges:{type:Boolean,default:!1}},data(){return{isChanging:!1}},computed:{formattedMonthYear(){return new Date(this.currentYear,this.currentMonth).toLocaleString(this.locale,{month:"long",year:"numeric"}).toUpperCase()}},mounted(){document.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown(e){const t=document.activeElement;if(!(t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)))switch(e.key){case"ArrowLeft":case"<":e.preventDefault(),this.handleMonthChange(-1);break;case"ArrowRight":case">":e.preventDefault(),this.handleMonthChange(1);break;case"PageUp":e.preventDefault(),this.handleMonthChange(-1);break;case"PageDown":e.preventDefault(),this.handleMonthChange(1);break;case"ArrowUp":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.handleMonthChange(12));break;case"ArrowDown":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.handleMonthChange(-12));break}},handleMonthChange(e){if(this.hasUnsavedChanges){if(!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić miesiąc? Twoje zmiany zostaną utracone."))return;this.$emit("discard-changes")}this.isChanging=!0,setTimeout(()=>{this.isChanging=!1},300),this.$emit("change-month",e)}}},Oe={class:"monthChange"};function je(e,t,n,r,a,o){return m(),f("section",Oe,[i("button",{class:"buttonMonthChange prev-month",onClick:t[0]||(t[0]=s=>o.handleMonthChange(-1)),"aria-label":"Poprzedni miesiąc",title:"Idź do poprzedniego miesiąca"}," ‹ "),i("span",{class:x({changing:a.isChanging}),role:"heading","aria-level":"2"},I(o.formattedMonthYear),3),i("button",{class:"buttonMonthChange next-month",onClick:t[1]||(t[1]=s=>o.handleMonthChange(1)),"aria-label":"Następny miesiąc",title:"Idź do następnego miesiąca"}," › ")])}const J=S(Ve,[["render",je],["__scopeId","data-v-7c4d0e0f"]]),We=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),Ye=G({name:"ButtonsTopBar",components:{ButtonSwitchView:H,PencilIcon:Z,RefreshIcon:K,ButtonExport:q,ButtonImport:$,MonthSelector:J},props:{canSave:Boolean,currentComponent:String,currentMonth:Number,currentYear:Number,locale:String,hasUnsavedChanges:Boolean,isEditingMode:Boolean,isRefreshing:Boolean,people:Array,monthDays:Array},data(){return{isMenuOpen:!1,isMobileView:!1}},methods:{checkMobileView(){this.isMobileView=window.innerWidth<=768,this.isMobileView||(this.isMenuOpen=!1)}},mounted(){this.checkMobileView(),window.addEventListener("resize",this.checkMobileView)},beforeUnmount(){window.removeEventListener("resize",this.checkMobileView)}}),He={class:"buttons-top-bar"},Ze={class:"fixed-buttons"},Ke=["aria-expanded"],qe=["disabled"],$e={class:"top-right-buttons compact-toggle",title:"Przełącz tryb edytowania"},Je=["checked"];function Ge(e,t,n,r,a,o){const s=b("MonthSelector"),l=b("ButtonSwitchView"),p=b("refresh-icon"),c=b("PencilIcon"),u=b("ButtonExport"),y=b("ButtonImport");return m(),f("nav",He,[i("div",Ze,[e.isMobileView?(m(),f("button",{key:0,class:x(["hamburger-menu",{"is-open":e.isMenuOpen}]),onClick:t[0]||(t[0]=h=>e.isMenuOpen=!e.isMenuOpen),"aria-expanded":e.isMenuOpen,"aria-label":"Menu"},t[9]||(t[9]=[i("span",null,null,-1),i("span",null,null,-1),i("span",null,null,-1)]),10,Ke)):D("",!0),k(s,{currentMonth:e.currentMonth,currentYear:e.currentYear,locale:e.locale,hasUnsavedChanges:e.hasUnsavedChanges,onChangeMonth:t[1]||(t[1]=h=>e.$emit("change-month",h)),onDiscardChanges:t[2]||(t[2]=h=>e.$emit("discard-changes"))},null,8,["currentMonth","currentYear","locale","hasUnsavedChanges"])]),i("div",{class:x(["collapsible-buttons",{"menu-open":e.isMenuOpen&&e.isMobileView,"mobile-view":e.isMobileView,"desktop-view":!e.isMobileView}])},[i("button",{disabled:!e.canSave,onClick:t[3]||(t[3]=h=>e.$emit("save")),class:"submit-button","aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie"}," Zapisz ",8,qe),k(l,{currentComponent:e.currentComponent,onNavigate:t[4]||(t[4]=h=>e.$emit("navigate",h))},null,8,["currentComponent"]),i("div",{class:x(["right-buttons",{"mobile-view":e.isMobileView}])},[i("button",{class:"top-right-buttons buttonRefresh",onClick:t[5]||(t[5]=h=>e.$emit("refresh")),"aria-label":"Odśwież harmonogram",title:"Odśwież harmonogram"},[k(p,{class:x({refreshing:e.isRefreshing})},null,8,["class"])]),i("label",$e,[i("input",{type:"checkbox",checked:e.isEditingMode,onChange:t[6]||(t[6]=h=>e.$emit("toggle-edit",h.target.checked)),"aria-label":"Przełącz tryb edytowania"},null,40,Je),k(c,{isEditing:e.isEditingMode},null,8,["isEditing"])]),k(u,X(e.$attrs,{people:e.people,monthDays:e.monthDays,selectedMonth:e.currentMonth,selectedYear:e.currentYear,"current-page":e.currentComponent}),null,16,["people","monthDays","selectedMonth","selectedYear","current-page"]),k(y,{isEditingMode:e.isEditingMode,people:e.people,monthDays:e.monthDays,onHasChanges:t[7]||(t[7]=h=>e.$emit("has-changes",h)),onCellsImported:t[8]||(t[8]=h=>e.$emit("cells-imported",h))},null,8,["isEditingMode","people","monthDays"])],2)],2)])}const Xe=S(Ye,[["render",Ge],["__scopeId","data-v-3fde3f76"]]),Qe={name:"VueCalendar",components:{ButtonsTopBar:Xe,ButtonSwitchView:H,MonthSelector:L(()=>M(()=>Promise.resolve().then(()=>We),void 0)),PeopleListWindow:L(()=>M(()=>import("./PeopleListWindow-CLAmvUtK.js"),__vite__mapDeps([2,3,4,5,6]))),ShiftCountWindow:L(()=>M(()=>import("./ShiftCountWindow-BN-h7aWt.js"),__vite__mapDeps([7,3,4,5,8]))),NotificationMessage:L(()=>M(()=>import("./utils-BO-MB2ZG.js").then(e=>e.b),__vite__mapDeps([3,4,5]))),RefreshIcon:K,ButtonExport:q,ButtonImport:$,PencilIcon:Z},data(){return{isLoading:!1,isEditingMode:this.safeGetFromStorage("isEditingMode",!1),selectedMonth:new Date().getMonth(),selectedYear:new Date().getFullYear(),locale:"pl",hasUnsavedChanges:!1,showPasswordModal:!1,localData:{},people:[{id:1,name:"Milena",ratownik:!1},{id:2,name:"Mikołaj",ratownik:!1},{id:3,name:"Aleksandra",ratownik:!1},{id:4,name:"Łukasz",ratownik:!0},{id:5,name:"Joanna",ratownik:!1},{id:6,name:"Natalia",ratownik:!0},{id:7,name:"Marcin",ratownik:!0}],monthDays:[],isRefreshing:!1,AuthorizationModal:null,CalendarComponent:null,ExcelComponent:null,currentPage:this.safeGetFromStorage("currentPage","ExcelComponent")}},computed:{canSave(){return this.hasUnsavedChanges},peopleListEditingMode(){return this.currentPage==="CalendarComponent"&&this.isEditingMode},activeComponentRef(){return this.currentPage==="CalendarComponent"?this.$refs.calendarComponent:this.$refs.excelComponent}},methods:{showPasswordPrompt(){if(this.AuthorizationModal){this.showPasswordModal=!0;return}M(()=>import("./AuthorizationModal-CwY7jOFj.js"),__vite__mapDeps([9,3,4,5,10])).then(e=>{this.AuthorizationModal=W(e.default),this.showPasswordModal=!0})},handleAuthorization(){this.showPasswordModal=!1,this.hasUnsavedChanges=!1,this.activeComponentRef?.handleChangesSaved()},loadPageComponent(e){const n={CalendarComponent:()=>M(()=>import("./CalendarComponent-BWYhMwno.js"),__vite__mapDeps([11,12,3,4,5,13])),ExcelComponent:()=>M(()=>import("./ExcelComponent-DDbRgWH_.js"),__vite__mapDeps([14,12,3,4,5,15]))}[e];return!n||this[e]?Promise.resolve():(this.isLoading=!0,n().then(r=>{this[e]=W(r.default)}).finally(()=>{this.isLoading=!1}))},handleNavigation(e){this.hasUnsavedChanges&&!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić widok?")||(localStorage.setItem("currentPage",e),this.loadPageComponent(e).then(()=>{this.currentPage=e,this.hasUnsavedChanges=!1}))},handleMonthChange(e){const t=new Date(this.selectedYear,this.selectedMonth,1);t.setMonth(t.getMonth()+e),this.selectedMonth=t.getMonth(),this.selectedYear=t.getFullYear()},discardChanges(){this.hasUnsavedChanges=!1,this.checkShiftDataSync()},generateCurrentView(){this.currentPage==="CalendarComponent"&&this.$refs.calendarComponent&&this.$refs.calendarComponent.generateMonthDays()},async checkShiftDataSync(){const e=new Error("Sync timeout");this.isRefreshing=!0;try{await Promise.race([te(()=>this.activeComponentRef?.generateMonthDays()),new Promise((t,n)=>setTimeout(()=>n(e),5e3))]),this.hasUnsavedChanges=!1}catch(t){console.error(t),C(`Błąd podczas odświeżania: ${t.message}`,"red")}finally{setTimeout(()=>this.isRefreshing=!1,800)}},updateEditingMode(e){this.isEditingMode=e,localStorage.setItem("isEditingMode",JSON.stringify(e))},updateUnsavedChanges(e){this.hasUnsavedChanges=e},emitEditingMode(e){this.updateEditingMode(e)},enableEditingMode(){this.isEditingMode=!0},updateMonthDays(e){this.monthDays=e},globalErrorHandler(){this.isRefreshing=!1,this.currentPage==="ExcelComponent"&&!this.$refs.excelComponent&&this.handleNavigation("ExcelComponent"),this.isLoading=!1},safeGetFromStorage(e,t){try{const n=localStorage.getItem(e);return n!==null?JSON.parse(n):t}catch(n){return console.warn(`Error reading ${e} from localStorage:`,n),t}},handleImportedCells(e){if(!this.ExcelComponent){console.error("ExcelComponent is not loaded yet.");return}this.$refs.excelComponent.importedCells=new Set(e)}},async mounted(){try{this.isRefreshing=!1,await this.loadPageComponent("ExcelComponent").catch(t=>{console.error("Failed to load Excel component:",t),C("Błąd ładowania Tabeli","red")}),localStorage.getItem("currentPage")==="CalendarComponent"&&await this.loadPageComponent("CalendarComponent").catch(t=>{console.error("Failed to load Calendar component:",t),C("Błąd ładowania Kalendarza","red"),this.currentPage="ExcelComponent",localStorage.setItem("currentPage","ExcelComponent")}),this.discardChanges(),this.hasUnsavedChanges=!1}catch(e){console.error("Error during application initialization:",e),C("Błąd inicjalizacji aplikacji","red")}["error","unhandledrejection"].forEach(e=>window.addEventListener(e,()=>this.globalErrorHandler()))}},et={class:"app-container"},tt={class:"main-content"},nt={key:0,class:"refresh-overlay"},ot={class:"editing-mode-container"},at={class:"editing-mode-label"},st={class:"editing-mode-label"};function it(e,t,n,r,a,o){const s=b("ButtonsTopBar"),l=b("RefreshIcon"),p=b("PeopleListWindow"),c=b("ShiftCountWindow"),u=b("NotificationMessage");return m(),f(N,null,[i("div",et,[a.AuthorizationModal&&a.showPasswordModal?(m(),T(V(a.AuthorizationModal),{key:0,show:a.showPasswordModal,onClose:t[0]||(t[0]=y=>a.showPasswordModal=!1),onAuthorized:o.handleAuthorization,"aria-label":"Zapisz zmiany",title:"Zapisz zmiany w harmonogramie",mode:"save"},null,40,["show","onAuthorized"])):D("",!0),k(s,{canSave:o.canSave,currentComponent:a.currentPage,currentMonth:a.selectedMonth,currentYear:a.selectedYear,locale:a.locale,hasUnsavedChanges:a.hasUnsavedChanges,isEditingMode:a.isEditingMode,isRefreshing:a.isRefreshing,people:a.people,monthDays:a.monthDays,onSave:o.showPasswordPrompt,onNavigate:o.handleNavigation,onChangeMonth:o.handleMonthChange,onDiscardChanges:o.discardChanges,onRefresh:o.checkShiftDataSync,onToggleEdit:o.emitEditingMode,onHasChanges:o.updateUnsavedChanges,onCellsImported:o.handleImportedCells},null,8,["canSave","currentComponent","currentMonth","currentYear","locale","hasUnsavedChanges","isEditingMode","isRefreshing","people","monthDays","onSave","onNavigate","onChangeMonth","onDiscardChanges","onRefresh","onToggleEdit","onHasChanges","onCellsImported"]),i("main",tt,[a.isRefreshing?(m(),f("div",nt,[k(l,{class:"centered-refresh-icon refreshing"})])):D("",!0),i("div",{class:"component-wrapper",style:Q({opacity:a.isRefreshing?"0.5":"1"})},[a.currentPage==="CalendarComponent"?(m(),T(V(a.CalendarComponent),{key:0,ref:"calendarComponent",isEditingMode:a.isEditingMode,selectedMonth:a.selectedMonth,selectedYear:a.selectedYear,people:a.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):D("",!0),a.currentPage==="ExcelComponent"?(m(),T(V(a.ExcelComponent),{key:1,ref:"excelComponent",isEditingMode:a.isEditingMode,selectedMonth:a.selectedMonth,selectedYear:a.selectedYear,people:a.people,onUpdateEditingMode:o.updateEditingMode,onHasChanges:o.updateUnsavedChanges,onMonthDaysUpdated:o.updateMonthDays},null,40,["isEditingMode","selectedMonth","selectedYear","people","onUpdateEditingMode","onHasChanges","onMonthDaysUpdated"])):D("",!0)],4),k(p,{people:a.people,isEditingMode:o.peopleListEditingMode},null,8,["people","isEditingMode"]),O(i("div",ot,[O(i("h1",at,t[1]||(t[1]=[P(" Tryb edytowania "),i("a",{class:"editing-mode-status"},"Włączony",-1),i("br",null,null,-1),P(" Przeciągaj członków zespołu na miejsca w grafiku."),i("br",null,null,-1),P("Kliknij na zajętą zmianę, aby ją wyczyścić. ")]),512),[[j,a.currentPage==="CalendarComponent"]]),O(i("h1",st,t[2]||(t[2]=[P(" Tryb edytowania "),i("a",{class:"editing-mode-status"},"Włączony",-1),i("br",null,null,-1),P(" Kliknij na miejsce w tabeli, aby wybrać zmianę. ")]),512),[[j,a.currentPage==="ExcelComponent"]])],512),[[j,a.isEditingMode]]),a.monthDays.length>0&&a.localData[1]!==null?(m(),T(c,{key:1,ref:"shiftCountWindow",people:a.people,monthDays:a.monthDays},null,8,["people","monthDays"])):D("",!0),k(u)])]),t[3]||(t[3]=i("footer",{class:"footer"},[i("a",{href:"https://github.com/puksh/kalendar"},"© 2025 puksh - All rights reserved")],-1))],64)}const rt=S(Qe,[["render",it],["__scopeId","data-v-360222db"]]);window.addEventListener("error",e=>{e.error&&(e.error.message.includes("Failed to fetch dynamically imported module")||e.error.message.includes("Importing a module script failed"))&&window.location.reload()});ee(rt).mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered with scope:",e.scope)}).catch(e=>{console.log("Service Worker registration failed:",e)})});export{M as _,ye as g,F as i};
