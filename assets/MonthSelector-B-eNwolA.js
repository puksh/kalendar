import{_ as s}from"./utils-DH2P6ohP.js";import{c as i,o as h,d as a,t as c,n as l}from"./vue-vendor-CZlDUNRv.js";const d={name:"MonthSelector",props:{currentMonth:{type:Number,required:!0},currentYear:{type:Number,required:!0},locale:{type:String,default:"pl"},hasUnsavedChanges:{type:Boolean,default:!1}},data(){return{isChanging:!1}},computed:{formattedMonthYear(){return new Date(this.currentYear,this.currentMonth).toLocaleString(this.locale,{month:"long",year:"numeric"}).toUpperCase()}},mounted(){document.addEventListener("keydown",this.handleKeyDown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown(e){const t=document.activeElement;if(!(t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)))switch(e.key){case"ArrowLeft":case"<":e.preventDefault(),this.handleMonthChange(-1);break;case"ArrowRight":case">":e.preventDefault(),this.handleMonthChange(1);break;case"PageUp":e.preventDefault(),this.handleMonthChange(-1);break;case"PageDown":e.preventDefault(),this.handleMonthChange(1);break;case"ArrowUp":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.handleMonthChange(12));break;case"ArrowDown":(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.handleMonthChange(-12));break}},handleMonthChange(e){if(this.hasUnsavedChanges){if(!confirm("Masz niezapisane zmiany. Czy na pewno chcesz zmienić miesiąc? Twoje zmiany zostaną utracone."))return;this.$emit("discard-changes")}this.isChanging=!0,setTimeout(()=>{this.isChanging=!1},300),this.$emit("change-month",e)}}},m={class:"monthChange"};function u(e,t,g,p,o,n){return h(),i("section",m,[a("button",{class:"buttonMonthChange prev-month",onClick:t[0]||(t[0]=r=>n.handleMonthChange(-1)),"aria-label":"Poprzedni miesiąc",title:"Idź do poprzedniego miesiąca"}," ‹ "),a("span",{class:l({changing:o.isChanging}),role:"heading","aria-level":"2"},c(n.formattedMonthYear),3),a("button",{class:"buttonMonthChange next-month",onClick:t[1]||(t[1]=r=>n.handleMonthChange(1)),"aria-label":"Następny miesiąc",title:"Idź do następnego miesiąca"}," › ")])}const y=s(d,[["render",u],["__scopeId","data-v-75db9735"]]);export{y as default};
